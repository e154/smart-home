sudo: false
language: go
go:
  - 1.7.x
addons:
  apt:
    packages:
      - git

cache:
  directories:
    - $MYSQL_ROOT

before_cache:

env:
  global:
    - MYSQL_FLAVOR=MariaDB
    - MYSQL_ROOT=$HOME/mysql
    - GOPATH="$HOME/gopath"
    - PATH="bin:$HOME/gopath/bin:$HOME/bin:$PATH"
    - CHECKOUT_ROOT="$HOME/gopath/src/github.com/e154/smart-home"
    - GO15VENDOREXPERIMENT='1'

install:
  - go get github.com/FiloSottile/gvt
  - npm install -g bower
  - bower install
  - travis/make_all.sh