basePath: /api/v1
consumes:
- application/json
definitions:
  AccessItem:
    properties:
      actions:
        items:
          type: string
        type: array
        x-go-name: Actions
      description:
        type: string
        x-go-name: Description
      method:
        type: string
        x-go-name: Method
      role_name:
        type: string
        x-go-name: RoleName
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  AccessLevels:
    additionalProperties:
      $ref: '#/definitions/AccessItem'
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  AccessList:
    additionalProperties:
      $ref: '#/definitions/AccessLevels'
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  AccessListDiff:
    additionalProperties:
      additionalProperties:
        type: boolean
      type: object
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  AuthSignInResponse:
    properties:
      access_token:
        type: string
        x-go-name: AccessToken
      current_user:
        $ref: '#/definitions/CurrentUserModel'
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  CurrentUserModel:
    description: Current User represents the user for this application
    properties:
      email:
        type: string
        x-go-name: Email
      first_name:
        type: string
        x-go-name: FirstName
      history:
        items:
          $ref: '#/definitions/UserHistory'
        type: array
        x-go-name: History
      id:
        format: int64
        type: integer
        x-go-name: Id
      image:
        $ref: '#/definitions/Image'
      lang:
        type: string
        x-go-name: Lang
      last_name:
        type: string
        x-go-name: LastName
      meta:
        items:
          $ref: '#/definitions/UserByIdModelMeta'
        type: array
        x-go-name: Meta
      nickname:
        type: string
        x-go-name: Nickname
      role:
        $ref: '#/definitions/RoleModel'
      sign_in_count:
        format: int64
        type: integer
        x-go-name: SignInCount
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  Error:
    properties:
      code:
        $ref: '#/definitions/ResponseType'
      errors:
        $ref: '#/definitions/ErrorErrors'
      message:
        description: описание ошибки
        type: string
        x-go-name: Message
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  ErrorErrors:
    items:
      $ref: '#/definitions/ErrorErrorsItems'
    type: array
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  ErrorErrorsItems:
    properties:
      code:
        description: тип ишибки
        type: string
        x-go-name: Code
      field:
        description: поле вызвавшее ошибку
        type: string
        x-go-name: Field
      message:
        description: описание
        type: string
        x-go-name: Message
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  ExecScript:
    properties:
      description:
        type: string
        x-go-name: Description
      lang:
        type: string
        x-go-name: Lang
      name:
        type: string
        x-go-name: Name
      source:
        type: string
        x-go-name: Source
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  Image:
    properties:
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      id:
        format: int64
        type: integer
        x-go-name: Id
      image:
        type: string
        x-go-name: Image
      mime_type:
        type: string
        x-go-name: MimeType
      name:
        type: string
        x-go-name: Name
      size:
        format: int64
        type: integer
        x-go-name: Size
      thumb:
        type: string
        x-go-name: Thumb
      title:
        type: string
        x-go-name: Title
      url:
        type: string
        x-go-name: Url
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewNode:
    properties:
      description:
        type: string
        x-go-name: Description
      ip:
        type: string
        x-go-name: IP
      name:
        type: string
        x-go-name: Name
      port:
        format: int64
        type: integer
        x-go-name: Port
      status:
        type: string
        x-go-name: Status
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewRole:
    properties:
      Parent:
        properties:
          name:
            type: string
            x-go-name: Name
        type: object
      description:
        type: string
        x-go-name: Description
      name:
        type: string
        x-go-name: Name
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewScript:
    properties:
      description:
        type: string
        x-go-name: Description
      lang:
        type: string
        x-go-name: Lang
      name:
        type: string
        x-go-name: Name
      source:
        type: string
        x-go-name: Source
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewUser:
    properties:
      avatar:
        $ref: '#/definitions/NewUserImage'
      email:
        type: string
        x-go-name: Email
      first_name:
        type: string
        x-go-name: FirstName
      lang:
        type: string
        x-go-name: Lang
      last_name:
        type: string
        x-go-name: LastName
      meta:
        items:
          $ref: '#/definitions/NewUserMeta'
        type: array
        x-go-name: Meta
      nickname:
        type: string
        x-go-name: Nickname
      password:
        type: string
        x-go-name: Password
      password_repeat:
        type: string
        x-go-name: PasswordRepeat
      role:
        $ref: '#/definitions/NewUserRole'
      status:
        type: string
        x-go-name: Status
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewUserImage:
    properties:
      id:
        format: int64
        type: integer
        x-go-name: Id
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewUserMeta:
    properties:
      key:
        type: string
        x-go-name: Key
      value:
        type: string
        x-go-name: Value
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewUserRole:
    properties:
      name:
        type: string
        x-go-name: Name
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewWorkflow:
    properties:
      description:
        type: string
        x-go-name: Description
      name:
        type: string
        x-go-name: Name
      status:
        type: string
        x-go-name: Status
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  NewWorkflowScenario:
    properties:
      name:
        type: string
        x-go-name: Name
      system_name:
        type: string
        x-go-name: SystemName
      workflow_id:
        format: int64
        type: integer
        x-go-name: WorkflowId
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  Node:
    properties:
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      description:
        type: string
        x-go-name: Description
      id:
        format: int64
        type: integer
        x-go-name: Id
      ip:
        type: string
        x-go-name: Ip
      name:
        type: string
        x-go-name: Name
      port:
        format: int64
        type: integer
        x-go-name: Port
      status:
        type: string
        x-go-name: Status
      updated_at:
        format: date-time
        type: string
        x-go-name: UpdatedAt
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  ResponseRoleModel:
    properties:
      role:
        $ref: '#/definitions/RoleModel'
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  ResponseType:
    type: string
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  RoleListModel:
    properties:
      Meta:
        properties:
          limit:
            format: int64
            type: integer
            x-go-name: Limit
          objects_count:
            format: int64
            type: integer
            x-go-name: ObjectsCount
          offset:
            format: int64
            type: integer
            x-go-name: Offset
        type: object
      items:
        items:
          $ref: '#/definitions/RoleModel'
        type: array
        x-go-name: Items
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  RoleModel:
    properties:
      Parent:
        properties:
          name:
            type: string
            x-go-name: Name
        type: object
      access_list:
        additionalProperties:
          items:
            type: string
          type: array
        type: object
        x-go-name: AccessList
      children:
        items:
          $ref: '#/definitions/RoleModel'
        type: array
        x-go-name: Children
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      description:
        type: string
        x-go-name: Description
      name:
        type: string
        x-go-name: Name
      updated_at:
        format: date-time
        type: string
        x-go-name: UpdatedAt
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  Script:
    properties:
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      description:
        type: string
        x-go-name: Description
      id:
        format: int64
        type: integer
        x-go-name: Id
      lang:
        type: string
        x-go-name: Lang
      name:
        type: string
        x-go-name: Name
      source:
        type: string
        x-go-name: Source
      updated_at:
        format: date-time
        type: string
        x-go-name: UpdatedAt
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  SearchRoleResponse:
    properties:
      roles:
        items:
          $ref: '#/definitions/RoleModel'
        type: array
        x-go-name: Roles
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UpdateNode:
    properties:
      description:
        type: string
        x-go-name: Description
      id:
        format: int64
        type: integer
        x-go-name: Id
      ip:
        type: string
        x-go-name: IP
      name:
        type: string
        x-go-name: Name
      port:
        format: int64
        type: integer
        x-go-name: Port
      status:
        type: string
        x-go-name: Status
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UpdateRole:
    properties:
      Parent:
        properties:
          name:
            type: string
            x-go-name: Name
        type: object
      description:
        type: string
        x-go-name: Description
      name:
        type: string
        x-go-name: Name
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UpdateScript:
    properties:
      description:
        type: string
        x-go-name: Description
      id:
        format: int64
        type: integer
        x-go-name: Id
      lang:
        type: string
        x-go-name: Lang
      name:
        type: string
        x-go-name: Name
      source:
        type: string
        x-go-name: Source
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UpdateUser:
    properties:
      avatar:
        $ref: '#/definitions/NewUserImage'
      email:
        type: string
        x-go-name: Email
      first_name:
        type: string
        x-go-name: FirstName
      id:
        format: int64
        type: integer
        x-go-name: Id
      lang:
        type: string
        x-go-name: Lang
      last_name:
        type: string
        x-go-name: LastName
      meta:
        items:
          $ref: '#/definitions/NewUserMeta'
        type: array
        x-go-name: Meta
      nickname:
        type: string
        x-go-name: Nickname
      password:
        type: string
        x-go-name: Password
      password_repeat:
        type: string
        x-go-name: PasswordRepeat
      role:
        $ref: '#/definitions/NewUserRole'
      status:
        type: string
        x-go-name: Status
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UpdateWorkflow:
    properties:
      description:
        type: string
        x-go-name: Description
      id:
        format: int64
        type: integer
        x-go-name: Id
      name:
        type: string
        x-go-name: Name
      status:
        type: string
        x-go-name: Status
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UpdateWorkflowScenario:
    properties:
      id:
        format: int64
        type: integer
        x-go-name: Id
      name:
        type: string
        x-go-name: Name
      scripts:
        items:
          $ref: '#/definitions/Script'
        type: array
        x-go-name: Scripts
      system_name:
        type: string
        x-go-name: SystemName
      workflow_id:
        format: int64
        type: integer
        x-go-name: WorkflowId
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UserByIdModelMeta:
    properties:
      key:
        type: string
        x-go-name: Key
      value:
        type: string
        x-go-name: Value
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UserByIdModelParent:
    properties:
      id:
        format: int64
        type: integer
        x-go-name: Id
      nickname:
        type: string
        x-go-name: Nickname
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UserFullModel:
    properties:
      authentication_token:
        type: string
        x-go-name: AuthenticationToken
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      current_sign_in_at:
        format: date-time
        type: string
        x-go-name: CurrentSignInAt
      current_sign_in_ip:
        type: string
        x-go-name: CurrentSignInIp
      deleted_at:
        format: date-time
        type: string
        x-go-name: DeletedAt
      email:
        type: string
        x-go-name: Email
      first_name:
        type: string
        x-go-name: FirstName
      history:
        items:
          $ref: '#/definitions/UserHistory'
        type: array
        x-go-name: History
      id:
        format: int64
        type: integer
        x-go-name: Id
      image:
        $ref: '#/definitions/Image'
      lang:
        type: string
        x-go-name: Lang
      last_name:
        type: string
        x-go-name: LastName
      last_sign_in_at:
        format: date-time
        type: string
        x-go-name: LastSignInAt
      last_sign_in_ip:
        type: string
        x-go-name: LastSignInIp
      meta:
        items:
          $ref: '#/definitions/UserByIdModelMeta'
        type: array
        x-go-name: Meta
      nickname:
        type: string
        x-go-name: Nickname
      reset_password_sent_at:
        format: date-time
        type: string
        x-go-name: ResetPasswordSentAt
      role:
        $ref: '#/definitions/RoleModel'
      role_name:
        type: string
        x-go-name: RoleName
      sign_in_count:
        format: int64
        type: integer
        x-go-name: SignInCount
      status:
        type: string
        x-go-name: Status
      updated_at:
        format: date-time
        type: string
        x-go-name: UpdatedAt
      user:
        $ref: '#/definitions/UserByIdModelParent'
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UserHistory:
    properties:
      ip:
        type: string
        x-go-name: Ip
      time:
        format: date-time
        type: string
        x-go-name: Time
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UserListModel:
    properties:
      Items:
        items:
          $ref: '#/definitions/UserShotModel'
        type: array
      Meta:
        properties:
          limit:
            format: int64
            type: integer
            x-go-name: Limit
          objects_count:
            format: int64
            type: integer
            x-go-name: ObjectsCount
          offset:
            format: int64
            type: integer
            x-go-name: Offset
        type: object
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UserShotModel:
    properties:
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      email:
        type: string
        x-go-name: Email
      first_name:
        type: string
        x-go-name: FirstName
      id:
        format: int64
        type: integer
        x-go-name: Id
      image:
        $ref: '#/definitions/Image'
      lang:
        type: string
        x-go-name: Lang
      last_name:
        type: string
        x-go-name: LastName
      nickname:
        type: string
        x-go-name: Nickname
      role:
        $ref: '#/definitions/RoleModel'
      role_name:
        type: string
        x-go-name: RoleName
      status:
        type: string
        x-go-name: Status
      updated_at:
        format: date-time
        type: string
        x-go-name: UpdatedAt
      user:
        $ref: '#/definitions/UserByIdModelParent'
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  UserUpdateStatusRequest:
    properties:
      status:
        type: string
        x-go-name: Status
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  Workflow:
    properties:
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      description:
        type: string
        x-go-name: Description
      id:
        format: int64
        type: integer
        x-go-name: Id
      name:
        type: string
        x-go-name: Name
      scenario:
        $ref: '#/definitions/WorkflowScenario'
      scenarios:
        items:
          $ref: '#/definitions/WorkflowScenario'
        type: array
        x-go-name: Scenarios
      scripts:
        items:
          $ref: '#/definitions/Script'
        type: array
        x-go-name: Scripts
      status:
        type: string
        x-go-name: Status
      updated_at:
        format: date-time
        type: string
        x-go-name: UpdatedAt
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  WorkflowScenario:
    properties:
      created_at:
        format: date-time
        type: string
        x-go-name: CreatedAt
      id:
        format: int64
        type: integer
        x-go-name: Id
      name:
        type: string
        x-go-name: Name
      scripts:
        items:
          $ref: '#/definitions/Script'
        type: array
        x-go-name: Scripts
      system_name:
        type: string
        x-go-name: SystemName
      updated_at:
        format: date-time
        type: string
        x-go-name: UpdatedAt
      workflow_id:
        format: int64
        type: integer
        x-go-name: WorkflowId
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
  WorkflowUpdateWorkflowScenario:
    properties:
      workflow_scenario_id:
        format: int64
        type: integer
        x-go-name: WorkflowScenarioId
    type: object
    x-go-package: github.com/e154/smart-home/api/server/v1/models
info:
  contact:
    email: support@e154.ru
    name: Alex Filippov
    url: https://e154.github.io/smart-home/
  description: This documentation describes APIs found under https://github.com/e154/smart-home
  license:
    name: MIT
    url: https://raw.githubusercontent.com/e154/smart-home/master/LICENSE
  title: Smart home
  version: 1.0.0
paths:
  /:
    get:
      consumes:
      - text/plain
      operationId: index
      produces:
      - text/plain
      responses:
        "200":
          description: Success response
      summary: index page
      tags:
      - index
  /access_list:
    get:
      operationId: authGetAccessList
      responses:
        "200":
          description: OK
          schema:
            properties:
              access_list:
                $ref: '#/definitions/AccessList'
            type: object
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get user access list
      tags:
      - auth
  /node:
    post:
      operationId: nodeAdd
      parameters:
      - description: node params
        in: body
        name: node
        required: true
        schema:
          $ref: '#/definitions/NewNode'
          type: object
      responses:
        "200":
          $ref: '#/responses/NewObjectSuccess'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: add new node
      tags:
      - node
  /node/{id}:
    delete:
      operationId: nodeDeleteById
      parameters:
      - description: Node ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: delete node by id
      tags:
      - node
    get:
      operationId: nodeGetById
      parameters:
      - description: Node ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/Node'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get node by id
      tags:
      - node
    put:
      operationId: nodeUpdateById
      parameters:
      - description: Node ID
        in: path
        name: id
        required: true
        type: integer
      - description: Update node params
        in: body
        name: node
        required: true
        schema:
          $ref: '#/definitions/UpdateNode'
          type: object
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: update node by id
      tags:
      - node
  /nodes:
    get:
      operationId: nodeList
      parameters:
      - default: 10
        description: limit
        in: query
        name: limit
        required: true
        type: integer
      - default: 0
        description: offset
        in: query
        name: offset
        required: true
        type: integer
      - default: DESC
        description: order
        in: query
        name: order
        type: string
      - default: id
        description: sort_by
        in: query
        name: sort_by
        type: string
      responses:
        "200":
          $ref: '#/responses/NodeList'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get node list
      tags:
      - node
  /nodes/search:
    get:
      operationId: nodeSearch
      parameters:
      - description: query
        in: query
        name: query
        type: string
      - default: 10
        description: limit
        in: query
        name: limit
        required: true
        type: integer
      - default: 0
        description: offset
        in: query
        name: offset
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/NodeSearch'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: search node
      tags:
      - node
  /recovery:
    post:
      operationId: authRecovery
      responses:
        "200":
          $ref: '#/responses/Success'
        "500":
          $ref: '#/responses/Error'
      summary: recovery access
      tags:
      - auth
  /reset:
    post:
      operationId: authReset
      responses:
        "200":
          $ref: '#/responses/Success'
        "500":
          $ref: '#/responses/Error'
      summary: reset access
      tags:
      - auth
  /script:
    post:
      operationId: scriptAdd
      parameters:
      - description: script params
        in: body
        name: script
        required: true
        schema:
          $ref: '#/definitions/NewScript'
          type: object
      responses:
        "200":
          $ref: '#/responses/NewObjectSuccess'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: add new script
      tags:
      - script
  /script/{id}:
    delete:
      operationId: scriptDeleteById
      parameters:
      - description: Script ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: delete script by id
      tags:
      - script
    get:
      operationId: scriptGetById
      parameters:
      - description: Script ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/Script'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get script by id
      tags:
      - script
    put:
      operationId: scriptUpdateById
      parameters:
      - description: Script ID
        in: path
        name: id
        required: true
        type: integer
      - description: Update script params
        in: body
        name: script
        required: true
        schema:
          $ref: '#/definitions/UpdateScript'
          type: object
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: update script by id
      tags:
      - script
  /script/{id}/exec:
    post:
      operationId: scriptExecById
      parameters:
      - description: Script ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/ScriptExec'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: Execute script by id
      tags:
      - script
  /script/{id}/exec_src:
    post:
      operationId: scriptExecSrc
      parameters:
      - description: source script
        in: body
        name: script
        required: true
        schema:
          $ref: '#/definitions/ExecScript'
          type: object
      responses:
        "200":
          $ref: '#/responses/ScriptExec'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: Exec script from request params
      tags:
      - script
  /scripts:
    get:
      operationId: scriptList
      parameters:
      - default: 10
        description: limit
        in: query
        name: limit
        required: true
        type: integer
      - default: 0
        description: offset
        in: query
        name: offset
        required: true
        type: integer
      - default: DESC
        description: order
        in: query
        name: order
        type: string
      - default: id
        description: sort_by
        in: query
        name: sort_by
        type: string
      responses:
        "200":
          $ref: '#/responses/ScriptList'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get script list
      tags:
      - script
  /scripts/search:
    get:
      operationId: scriptSearch
      parameters:
      - description: query
        in: query
        name: query
        type: string
      - default: 10
        description: limit
        in: query
        name: limit
        required: true
        type: integer
      - default: 0
        description: offset
        in: query
        name: offset
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/ScriptSearch'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: search script
      tags:
      - script
  /signin:
    post:
      operationId: authSignin
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/AuthSignInResponse'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - BasicAuth: []
      summary: sign in
      tags:
      - auth
  /signout:
    post:
      operationId: authSignout
      responses:
        "200":
          $ref: '#/responses/Success'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: sign out
      tags:
      - auth
  /workflow:
    post:
      operationId: workflowAdd
      parameters:
      - description: workflow params
        in: body
        name: workflow
        required: true
        schema:
          $ref: '#/definitions/NewWorkflow'
          type: object
      responses:
        "200":
          $ref: '#/responses/NewObjectSuccess'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: add new workflow
      tags:
      - workflow
  /workflow/{id}:
    delete:
      operationId: workflowDeleteById
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: delete workflow by id
      tags:
      - workflow
    get:
      operationId: workflowGetById
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/Workflow'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get workflow by id
      tags:
      - workflow
    put:
      operationId: workflowUpdateById
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      - description: Update workflow params
        in: body
        name: workflow
        required: true
        schema:
          $ref: '#/definitions/UpdateWorkflow'
          type: object
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: update workflow by id
      tags:
      - workflow
  /workflow/{id}/scenario:
    post:
      operationId: workflowScenarioAdd
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      - description: workflow scenario params
        in: body
        name: workflow_scenario
        required: true
        schema:
          $ref: '#/definitions/NewWorkflowScenario'
      responses:
        "200":
          $ref: '#/responses/NewObjectSuccess'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: add new workflow scenario
      tags:
      - workflow_scenario
  /workflow/{id}/scenario/{scenario_id}:
    delete:
      operationId: workflowScenarioDeleteById
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      - description: Workflow scenario ID
        in: path
        name: scenario_id
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: delete workflow scenario by id
      tags:
      - workflow_scenario
    get:
      operationId: workflowScenarioGetById
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      - description: WorkflowScenario ID
        in: path
        name: scenario_id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/WorkflowScenario'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get workflow scenario by id
      tags:
      - workflow_scenario
    put:
      operationId: workflowScenarioUpdateById
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      - description: WorkflowScenario ID
        in: path
        name: scenario_id
        required: true
        type: integer
      - description: Update workflow scenario params
        in: body
        name: workflowScenario
        required: true
        schema:
          $ref: '#/definitions/UpdateWorkflowScenario'
          type: object
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: update workflow scenario by id
      tags:
      - workflow_scenario
  /workflow/{id}/scenarios:
    get:
      operationId: workflowScenarioList
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/WorkflowScenarios'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get workflow scenario list
      tags:
      - workflow_scenario
  /workflow/{id}/scenarios/search:
    get:
      operationId: workflowScenarioSearch
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      - description: query
        in: query
        name: query
        type: string
      - default: 10
        description: limit
        in: query
        name: limit
        required: true
        type: integer
      - default: 0
        description: offset
        in: query
        name: offset
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/WorkflowScenarioSearch'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: search workflow scenario
      tags:
      - workflow_scenario
  /workflow/{id}/update_scenario:
    put:
      operationId: workflowUpdateScenario
      parameters:
      - description: Workflow ID
        in: path
        name: id
        required: true
        type: integer
      - description: Update workflow scenario params
        in: body
        name: workflowUpdateWorkflowScenario
        required: true
        schema:
          $ref: '#/definitions/WorkflowUpdateWorkflowScenario'
      responses:
        "200":
          $ref: '#/responses/Success'
        "400":
          $ref: '#/responses/Error'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          $ref: '#/responses/Error'
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: update workflow scenario
      tags:
      - workflow
  /workflows:
    get:
      operationId: workflowList
      parameters:
      - default: 10
        description: limit
        in: query
        name: limit
        required: true
        type: integer
      - default: 0
        description: offset
        in: query
        name: offset
        required: true
        type: integer
      - default: DESC
        description: order
        in: query
        name: order
        type: string
      - default: id
        description: sort_by
        in: query
        name: sort_by
        type: string
      responses:
        "200":
          $ref: '#/responses/WorkflowList'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: get workflow list
      tags:
      - workflow
  /workflows/search:
    get:
      operationId: workflowSearch
      parameters:
      - description: query
        in: query
        name: query
        type: string
      - default: 10
        description: limit
        in: query
        name: limit
        required: true
        type: integer
      - default: 0
        description: offset
        in: query
        name: offset
        required: true
        type: integer
      responses:
        "200":
          $ref: '#/responses/WorkflowSearch'
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "500":
          $ref: '#/responses/Error'
      security:
      - ApiKeyAuth: []
      summary: search workflow
      tags:
      - workflow
produces:
- application/json
responses:
  Error:
    description: Error response
    schema:
      properties:
        code:
          $ref: '#/definitions/ResponseType'
        errors:
          $ref: '#/definitions/ErrorErrors'
        message:
          description: описание ошибки
          type: string
          x-go-name: Message
      type: object
  NewObjectSuccess:
    description: Success with id response
    schema:
      properties:
        id:
          format: int64
          type: integer
          x-go-name: Id
      type: object
  NodeList:
    schema:
      properties:
        items:
          items:
            $ref: '#/definitions/Node'
          type: array
          x-go-name: Items
        meta:
          properties:
            limit:
              format: int64
              type: integer
              x-go-name: Limit
            object_count:
              format: int64
              type: integer
              x-go-name: ObjectCount
            offset:
              format: int64
              type: integer
              x-go-name: Offset
          type: object
          x-go-name: Meta
      type: object
  NodeSearch:
    schema:
      properties:
        nodes:
          items:
            $ref: '#/definitions/Node'
          type: array
          x-go-name: Nodes
      type: object
  ScriptExec:
    schema:
      properties:
        result:
          type: string
          x-go-name: Result
      type: object
  ScriptList:
    schema:
      properties:
        items:
          items:
            $ref: '#/definitions/Script'
          type: array
          x-go-name: Items
        meta:
          properties:
            limit:
              format: int64
              type: integer
              x-go-name: Limit
            object_count:
              format: int64
              type: integer
              x-go-name: ObjectCount
            offset:
              format: int64
              type: integer
              x-go-name: Offset
          type: object
          x-go-name: Meta
      type: object
  ScriptSearch:
    schema:
      properties:
        scripts:
          items:
            $ref: '#/definitions/Script'
          type: array
          x-go-name: Scripts
      type: object
  Success:
    description: Success response
    schema:
      type: object
  WorkflowList:
    schema:
      properties:
        items:
          items:
            $ref: '#/definitions/Workflow'
          type: array
          x-go-name: Items
        meta:
          properties:
            limit:
              format: int64
              type: integer
              x-go-name: Limit
            object_count:
              format: int64
              type: integer
              x-go-name: ObjectCount
            offset:
              format: int64
              type: integer
              x-go-name: Offset
          type: object
          x-go-name: Meta
      type: object
  WorkflowScenarioSearch:
    schema:
      properties:
        scenarios:
          items:
            $ref: '#/definitions/WorkflowScenario'
          type: array
          x-go-name: Scenarios
      type: object
  WorkflowScenarios:
    schema:
      properties:
        scenarios:
          items:
            $ref: '#/definitions/WorkflowScenario'
          type: array
          x-go-name: Scenarios
      type: object
  WorkflowSearch:
    schema:
      properties:
        workflows:
          items:
            $ref: '#/definitions/Workflow'
          type: array
          x-go-name: Workflows
      type: object
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
  BasicAuth:
    type: basic
swagger: "2.0"
