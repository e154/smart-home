<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.89.4"><meta name=ROBOTS content="INDEX, FOLLOW">
<link rel="shortcut icon" href=/smart-home/favicons/favicon.ico>
<link rel=apple-touch-icon href=/smart-home/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/smart-home/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/smart-home/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/smart-home/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/smart-home/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/smart-home/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/smart-home/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/smart-home/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/smart-home/favicons/android-192x192.png sizes=192x192>
<title>Modbus rtu | Smart home</title>
<meta name=description content="In the Smart Home system, there is a Modbus RTU plugin implemented that enables interaction with devices using the Modbus RTU protocol. The plugin …">
<meta property="og:title" content="Modbus rtu">
<meta property="og:description" content="In the Smart Home system, there is a Modbus RTU plugin implemented that enables interaction with devices using the Modbus RTU protocol. The plugin provides the ModbusRtu(FUNC, ADDRESS, COUNT, COMMAND) method, which allows sending commands and receiving data using the specified protocol.
Arguments of the ModbusRtu method:
 FUNC: Modbus function code indicating the type of operation to perform with the device. ADDRESS: Modbus device address to which the command is sent.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://e154.github.io/smart-home/docs/plugins/modbus/modbus_rtu/"><meta property="article:section" content="docs">
<meta property="article:published_time" content="2021-10-20T00:00:00+00:00">
<meta property="article:modified_time" content="2023-11-02T20:22:01+06:00"><meta property="og:site_name" content="Smart home">
<meta itemprop=name content="Modbus rtu">
<meta itemprop=description content="In the Smart Home system, there is a Modbus RTU plugin implemented that enables interaction with devices using the Modbus RTU protocol. The plugin provides the ModbusRtu(FUNC, ADDRESS, COUNT, COMMAND) method, which allows sending commands and receiving data using the specified protocol.
Arguments of the ModbusRtu method:
 FUNC: Modbus function code indicating the type of operation to perform with the device. ADDRESS: Modbus device address to which the command is sent."><meta itemprop=datePublished content="2021-10-20T00:00:00+00:00">
<meta itemprop=dateModified content="2023-11-02T20:22:01+06:00">
<meta itemprop=wordCount content="439">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Modbus rtu">
<meta name=twitter:description content="In the Smart Home system, there is a Modbus RTU plugin implemented that enables interaction with devices using the Modbus RTU protocol. The plugin provides the ModbusRtu(FUNC, ADDRESS, COUNT, COMMAND) method, which allows sending commands and receiving data using the specified protocol.
Arguments of the ModbusRtu method:
 FUNC: Modbus function code indicating the type of operation to perform with the device. ADDRESS: Modbus device address to which the command is sent.">
<link rel=preload href=/smart-home/scss/main.min.bd5285b713d3061549a6bfd34e5f4ec6775ede36672a3088260f0d420050647f.css as=style>
<link href=/smart-home/scss/main.min.bd5285b713d3061549a6bfd34e5f4ec6775ede36672a3088260f0d420050647f.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/smart-home/>
<span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Smart home</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/smart-home/docs/><span class=active>Documentation</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/smart-home/ru/docs/plugins/modbus/modbus_rtu/>Русский</a>
</div>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block">
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id=td-sidebar-menu class=td-sidebar__inner>
<form class="td-sidebar__search d-flex align-items-center">
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation">
</button>
</form>
<nav class="collapse td-sidebar-nav" id=td-section-nav>
<div class="nav-item dropdown d-block d-lg-none">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/smart-home/ru/docs/plugins/modbus/modbus_rtu/>Русский</a>
</div>
</div>
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-smart-homedocs-li>
<a href=/smart-home/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-smart-homedocs><span>Documentation</span></a>
<ul class=ul-1>
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-smart-homedocsinstall-li>
<a href=/smart-home/docs/install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocsinstall><span>Install</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsinstallpostgresql-li>
<a href=/smart-home/docs/install/postgresql/ title class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsinstallpostgresql><span>Postgresql</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-smart-homedocsdashboard-li>
<a href=/smart-home/docs/dashboard/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocsdashboard><span>Dashboard</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsdashboardentity-li>
<a href=/smart-home/docs/dashboard/entity/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsdashboardentity><span>Entity</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-smart-homedocsdashboardautomation-li>
<a href=/smart-home/docs/dashboard/automation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocsdashboardautomation><span>Automation</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsdashboardautomationactions-li>
<a href=/smart-home/docs/dashboard/automation/actions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsdashboardautomationactions><span>Actions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsdashboardautomationconditions-li>
<a href=/smart-home/docs/dashboard/automation/conditions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsdashboardautomationconditions><span>Conditions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsdashboardautomationtriggers-li>
<a href=/smart-home/docs/dashboard/automation/triggers/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsdashboardautomationtriggers><span>Triggers</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsdashboardmqtt-li>
<a href=/smart-home/docs/dashboard/mqtt/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocsdashboardmqtt><span>MQTT</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-smart-homedocsjavascript-li>
<a href=/smart-home/docs/javascript/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocsjavascript><span>Javascript</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptencryption-li>
<a href=/smart-home/docs/javascript/encryption/ title=Encryption class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptencryption><span>encryption</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptgeo-li>
<a href=/smart-home/docs/javascript/geo/ title=Geography class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptgeo><span>geography</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptentity-li>
<a href=/smart-home/docs/javascript/entity/ title=Entity class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptentity><span>entity</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascripthex2arr-li>
<a href=/smart-home/docs/javascript/hex2arr/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascripthex2arr><span>hex2arr</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptmarshal-li>
<a href=/smart-home/docs/javascript/marshal/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptmarshal><span>marshal</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptmqtt-li>
<a href=/smart-home/docs/javascript/mqtt/ title=Mqtt class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptmqtt><span>mqtt</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptprint-li>
<a href=/smart-home/docs/javascript/print/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptprint><span>print</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptunmarshal-li>
<a href=/smart-home/docs/javascript/unmarshal/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptunmarshal><span>unmarshal</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptexecute-li>
<a href=/smart-home/docs/javascript/execute/ title=Execute class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptexecute><span>execute</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptlog-li>
<a href=/smart-home/docs/javascript/log/ title=Log class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptlog><span>log</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascriptstorage-li>
<a href=/smart-home/docs/javascript/storage/ title=Storage class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascriptstorage><span>storage</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocsjavascripthttp-li>
<a href=/smart-home/docs/javascript/http/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocsjavascripthttp><span>http</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-smart-homedocsplugins-li>
<a href=/smart-home/docs/plugins/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocsplugins><span>Plugins</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-smart-homedocspluginsmodbus-li>
<a href=/smart-home/docs/plugins/modbus/ title=Modbus class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocspluginsmodbus><span>modbus</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-smart-homedocspluginsmodbusmodbus_rtu-li>
<a href=/smart-home/docs/plugins/modbus/modbus_rtu/ title="Modbus rtu" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsmodbusmodbus_rtu><span class=td-sidebar-nav-active-item>modbus rtu</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsmodbusmodbus_tcp-li>
<a href=/smart-home/docs/plugins/modbus/modbus_tcp/ title="Modbus tcp" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsmodbusmodbus_tcp><span>modbus tcp</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsalexa-li>
<a href=/smart-home/docs/plugins/alexa/ title=Alexa class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsalexa><span>alexa</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-smart-homedocspluginscgminer-li>
<a href=/smart-home/docs/plugins/cgminer/ title=Cgminer class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocspluginscgminer><span>cgminer</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginscgminerbitmine-li>
<a href=/smart-home/docs/plugins/cgminer/bitmine/ title=Bitmine class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginscgminerbitmine><span>bitmine</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginscpuspeed-li>
<a href=/smart-home/docs/plugins/cpuspeed/ title=CPU class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginscpuspeed><span>cpu</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginshdd-li>
<a href=/smart-home/docs/plugins/hdd/ title=HDD class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginshdd><span>hdd</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsmemory-li>
<a href=/smart-home/docs/plugins/memory/ title=Memory class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsmemory><span>memory</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsmemory_app-li>
<a href=/smart-home/docs/plugins/memory_app/ title="Memory app" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsmemory_app><span>memory app</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsmoon-li>
<a href=/smart-home/docs/plugins/moon/ title=Moon class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsmoon><span>moon</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsmqtt-li>
<a href=/smart-home/docs/plugins/mqtt/ title=MQTT class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsmqtt><span>mqtt</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnode-li>
<a href=/smart-home/docs/plugins/node/ title=Node class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnode><span>node</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-smart-homedocspluginsnotify-li>
<a href=/smart-home/docs/plugins/notify/ title="Отправка сообщений" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocspluginsnotify><span>notify</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnotifywebpush-li>
<a href=/smart-home/docs/plugins/notify/webpush/ title="Push уведомления" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnotifywebpush><span>webpush</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnotifyhtml5_notify-li>
<a href=/smart-home/docs/plugins/notify/html5_notify/ title="HTML5 Уведомления" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnotifyhtml5_notify><span>html5_notify</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnotifymessagebird-li>
<a href=/smart-home/docs/plugins/notify/messagebird/ title=Messagebird class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnotifymessagebird><span>messagebird</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnotifyslack-li>
<a href=/smart-home/docs/plugins/notify/slack/ title=Slack class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnotifyslack><span>slack</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnotifytelegram-li>
<a href=/smart-home/docs/plugins/notify/telegram/ title=Telegram class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnotifytelegram><span>telegram</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnotifytemplate-li>
<a href=/smart-home/docs/plugins/notify/template/ title=Templates class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnotifytemplate><span>templates</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsnotifytwilio-li>
<a href=/smart-home/docs/plugins/notify/twilio/ title=Twilio class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsnotifytwilio><span>twilio</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsscene-li>
<a href=/smart-home/docs/plugins/scene/ title=Scene class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsscene><span>scene</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginssensor-li>
<a href=/smart-home/docs/plugins/sensor/ title=Sensor class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginssensor><span>sensor</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginssun-li>
<a href=/smart-home/docs/plugins/sun/ title=Sun class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginssun><span>sun</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginstriggers-li>
<a href=/smart-home/docs/plugins/triggers/ title=Triggers class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginstriggers><span>triggers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsupdater-li>
<a href=/smart-home/docs/plugins/updater/ title=Updater class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsupdater><span>updater</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsuptime-li>
<a href=/smart-home/docs/plugins/uptime/ title=Uptime class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsuptime><span>uptime</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsversion-li>
<a href=/smart-home/docs/plugins/version/ title=Version class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsversion><span>version</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-smart-homedocspluginsweather-li>
<a href=/smart-home/docs/plugins/weather/ title=Weather class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-smart-homedocspluginsweather><span>weather</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsweathermet-li>
<a href=/smart-home/docs/plugins/weather/met/ title=Met class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsweathermet><span>met</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginsweatherowm-li>
<a href=/smart-home/docs/plugins/weather/owm/ title=Met class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginsweatherowm><span>met</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-smart-homedocspluginszibee2mqtt-li>
<a href=/smart-home/docs/plugins/zibee2mqtt/ title=Zigbee2mqtt class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-smart-homedocspluginszibee2mqtt><span>zigbee2mqtt</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
<aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href=https://github.com/e154/smart-home/edit/master/content/en/docs/plugins/modbus/modbus_rtu.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/e154/smart-home/new/master/content/en/docs/plugins/modbus/modbus_rtu.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/e154/smart-home/issues/new?title=Modbus%20rtu" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/e154/smart-home/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://e154.github.io/smart-home/docs/plugins/modbus/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a>
</div>
<div class=td-toc><nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#configuration>Configuration:</a></li>
<li><a href=#commands>Commands:</a></li>
<li><a href=#attributes>Attributes:</a></li>
<li><a href=#status>Status:</a></li>
<li><a href=#available-functions>Available Functions</a></li>
<li><a href=#javascript-properties>JavaScript Properties</a></li>
<li><a href=#example-coffeescript-code>Example CoffeeScript code</a></li>
</ul>
</li>
</ul>
</nav></div>
</aside>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<nav aria-label=breadcrumb class="d-none d-md-block d-print-none">
<ol class="breadcrumb spb-1">
<li class=breadcrumb-item>
<a href=https://e154.github.io/smart-home/docs/>Documentation</a>
</li>
<li class=breadcrumb-item>
<a href=https://e154.github.io/smart-home/docs/plugins/>Plugins</a>
</li>
<li class=breadcrumb-item>
<a href=https://e154.github.io/smart-home/docs/plugins/modbus/>modbus</a>
</li>
<li class="breadcrumb-item active" aria-current=page>
<a href=https://e154.github.io/smart-home/docs/plugins/modbus/modbus_rtu/>modbus rtu</a>
</li>
</ol>
</nav>
<div class=td-content>
<h1>Modbus rtu</h1>
<header class=article-meta>
</header>
<p>In the <strong>Smart Home</strong> system, there is a Modbus RTU plugin implemented that enables interaction with devices using the Modbus RTU protocol. The plugin provides the <code>ModbusRtu(FUNC, ADDRESS, COUNT, COMMAND)</code> method, which allows sending commands and receiving data using the specified protocol.</p>
<p>Arguments of the <code>ModbusRtu</code> method:</p>
<ol>
<li><code>FUNC</code>: Modbus function code indicating the type of operation to perform with the device.</li>
<li><code>ADDRESS</code>: Modbus device address to which the command is sent.</li>
<li><code>COUNT</code>: Number of registers or bits to read or write.</li>
<li><code>COMMAND</code>: Command to be executed, indicating additional parameters and settings.</li>
</ol>
<p>Usage example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>COMMAND</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>FUNC</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;ReadHoldingRegisters&#39;</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>ADDRESS</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>COUNT</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>16</span>

<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ModbusRtu</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>FUNC</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ADDRESS</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COUNT</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COMMAND</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>The <code>ModbusRtu</code> method allows sending Modbus RTU commands, performing register reads or writes, and retrieving data from devices. You can use this method in your <strong>Smart Home</strong> project to interact with devices that support the Modbus RTU protocol.</p>
<div class="alert alert-warning" role=alert>
To work with a Modbus RTU device, a configured <strong>node</strong> is required.
</div>
<h3 id=configuration>Configuration:</h3>
<ul>
<li>slave_id <code>1-32</code></li>
<li>baud <code>9600, 19200</code></li>
<li>data_bits <code>5-9</code></li>
<li>timeout <code>milliseconds</code></li>
<li>stop_bits <code>1-2</code></li>
<li>sleep <code>milliseconds</code></li>
<li>parity <code>none, odd, even</code></li>
</ul>
<h3 id=commands>Commands:</h3>
<ul>
<li>Custom set</li>
</ul>
<h3 id=attributes>Attributes:</h3>
<ul>
<li>Custom set</li>
</ul>
<h3 id=status>Status:</h3>
<ul>
<li>Custom set</li>
</ul>
<hr>
<h3 id=available-functions>Available Functions</h3>
<p><strong>1-bit functions</strong></p>
<p>ReadCoils
ReadDiscreteInputs
WriteSingleCoil
WriteMultipleCoils</p>
<p><strong>16-bit functions</strong></p>
<p>ReadInputRegisters
ReadHoldingRegisters
ReadWriteMultipleRegisters
WriteSingleRegister
WriteMultipleRegisters</p>
<hr>
<h3 id=javascript-properties>JavaScript Properties</h3>
<ul>
<li>ENTITY_ID</li>
<li>ModbusRtu</li>
<li>entityAction</li>
<li>Action</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># Constant with a unique device ID
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>const</span> <span style=color:#000>ENTITY_ID</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># Execute a command (function) on the device:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>result = </span><span style=color:#000>ModbusRtu</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>func</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>addr</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>command</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>func</td>
<td>Function to be executed on the device</td>
</tr>
<tr>
<td>addr</td>
<td>Address of the first register (40108-40001 = 107 = 6B hex)</td>
</tr>
<tr>
<td>count</td>
<td>Number of registers to read (reading 3 registers from 40108 to 40110)</td>
</tr>
<tr>
<td>command</td>
<td>Command</td>
</tr>
</tbody>
</table>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># Event handler function for actions:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
</code></pre></div><table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>entityId</td>
<td>Unique ID of the device</td>
</tr>
<tr>
<td>actionName</td>
<td>System name of the action</td>
</tr>
<tr>
<td>args</td>
<td>Type: map[string]any</td>
</tr>
</tbody>
</table>
<div class="alert alert-warning" role=alert>
The <strong>Action</strong> object is available in action scripts and scripts attached to the device.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>state = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#000>new_state: </span><span style=color:#4e9a06>&#39;ENABLED&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000>attribute_values: </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>heat: </span><span style=color:#204a87;font-weight:700>false</span>
  <span style=color:#000;font-weight:700>},</span>
  <span style=color:#000>settings_value: </span><span style=color:#000;font-weight:700>{},</span>
  <span style=color:#000>storage_save: </span><span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000;font-weight:700>}</span> 
<span style=color:#8f5902;font-style:italic># Save the state 
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>state</span>
</code></pre></div><table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>new_state</td>
<td>Unique system name of the state</td>
</tr>
<tr>
<td>attribute_values</td>
<td>Values of attributes previously defined for the device</td>
</tr>
<tr>
<td>settings_value</td>
<td>Values of settings previously defined for the device</td>
</tr>
<tr>
<td>storage_save</td>
<td>Flag indicating whether to save the state</td>
</tr>
</tbody>
</table>
<p>snapshot in the database |</p>
<hr>
<h3 id=example-coffeescript-code>Example CoffeeScript code</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># ModbusRtu
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#4e9a06>&#34;use strict&#34;</span><span style=color:#000;font-weight:700>;</span>

<span style=color:#000>checkStatus = </span><span style=color:#000>-&gt;</span>
  <span style=color:#000>COMMAND = </span><span style=color:#000;font-weight:700>[]</span>
  <span style=color:#000>FUNC = </span><span style=color:#4e9a06>&#39;ReadHoldingRegisters&#39;</span>
  <span style=color:#000>ADDRESS = </span><span style=color:#0000cf;font-weight:700>0</span>
  <span style=color:#000>COUNT = </span><span style=color:#0000cf;font-weight:700>16</span>
  
  <span style=color:#000>res = </span><span style=color:#000>ModbusRtu</span> <span style=color:#000>FUNC</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ADDRESS</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COUNT</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COMMAND</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>result</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>time</span>

<span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
  <span style=color:#204a87;font-weight:700>switch</span> <span style=color:#000>actionName</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;ON&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOnAction</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;OFF&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOffAction</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;CHECK&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>checkStatus</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;ON_WITH_ERR&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOnErrAction</span><span style=color:#000;font-weight:700>()</span>

</code></pre></div>
<div class="text-muted mt-5 pt-3 border-top">
Last modified November 2, 2023: <a href=https://github.com/e154/smart-home/commit/85b132cca98aebec3c26f42a148652dfed5598bc>Develop (#245) (85b132c)</a>
</div>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/e154/smart-home aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2023 Powered by <a href=http://e154.ru>e154.ru</a></small>
<div><small class="ml-1 text-white"><a href=https://github.com/e154/smart-home/blob/master/LICENSE>MIT</a> License Code Documents <a href=http://creativecommons.org/licenses/by/3.0/>CC BY 3.0</a></small></div>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/smart-home/js/tabpane-persist.js></script>
<script src=/smart-home/js/main.min.307d9740a83ff885dafd50af6ce4f79e2146b78e74ee078b11b627d0d02146a9.js integrity="sha256-MH2XQKg/+IXa/VCvbOT3niFGt4507geLEbYn0NAhRqk=" crossorigin=anonymous></script>
</body>
</html>