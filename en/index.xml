<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Smart home</title>
    <link>https://e154.github.io/smart-home/en/</link>
    <description>Recent content on Smart home</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ru</language>
    
	<atom:link href="https://e154.github.io/smart-home/en/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/api/_overview/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/api/_overview/</guid>
      <description>Обзор Smart home API позволяет управлять системой Smart home, производить настройку конфигурации. Исполнять комманды на устройствах подключенных к системе.
Smart home API организован на основе REST запросов по верх HTTP протокола. Такая связка была выбрана исключительно из простоты поддержания, и разработки нового функционала. Все запросы должны быть в формате JSON и кодировке UTF-8 (Content-Type: application/json; charset=utf-8). Заголовок Accept будут игнорироваться для всех запросов.
$ curl -i http://localhost:3000/api/v1/signin  Безопасность Сервер Smart home имеет систему контроля доступа основанную на ролях.</description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/javascript/_overview/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_overview/</guid>
      <description>Обзор API SmartHome. Объекты и функции, методы, свойства объектов, используемых для управления устройствами &amp;ldquo;умного дома&amp;rdquo;
Методы пример скрипта
# Контекст применения: # action (действие) # # Описание: # Проверка состояния устройства. (частное) # Не имеет зависимостей, и ни чего не передает наружу # Должен вызываться в рамках воркера, или действия устройства, # иначе выдаст ошибку, так как контекст выполнения накладывает # некоторые ограничения fetchStatus =()-&amp;gt; # номер комманнды # 3 - проверка состояния # 4 - выполнить комманду FUNCTION = 3 # получим адрес устройства из контекста запуска DEVICE_ADDR = dev.</description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/api/_authorize/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/api/_authorize/</guid>
      <description>Авторизация Все запросы к серверу должны сопровождаться авторизационным токеном.
#!/usr/bin/env bash URL=http://localhost:3000/api/v1 TOKEN=&amp;quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&amp;quot; curl -H &amp;quot;access_token:${TOKEN}&amp;quot; -X GET -s ${URL}/user/1   Токен регистрируется на 24 часа, по истечении которых становится не действительным, затем снова требуется авторизация. Пароль должен состоять не менне чем из 6 символов. Авторизация в только что установленной системе возможна только, по одной из двух учетных записей  Учетные записи существующие после установки сервера
 email: demo@e154.</description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/getting-started/_overview/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/_overview/</guid>
      <description>Обзор Программный комплекс Умный дом начал своё развитие с не большого домашнего проекта осенью 2016 года. Основные принципы лежащие в основе разрабатываемой системы - простота настройки и содержания, дешевизна и доступность компонентной базы.
С помощью программного комплекса Умный дом Вы сможете управлять множеством устройствами на базе AVR микроконтроллеров и не только. Распределённая сеть устройств на основе програмного комплекса Умный дом не имеег географических границ и позволяет управлять устройствами в любой точке сети интернет через систему узлов - микросервисов.</description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/getting-started/_requirements/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/_requirements/</guid>
      <description>Системные требования Поддерживаемые операционные системы:
 macOS 386 10.6 macOS amd64 10.6 linux 386 linux amd64 linux arm-5 linux arm-6 linux arm-7 linux arm-64 linux mips64 linux mips64le windows 386 windows amd64  Сервера Orange Pi Средние и крупные инсталляции:  Коттедж, Таунхаус Офис (более пяти контроллеров на этаж), Гостиница    Raspberry Pi Средние и крупные инсталляции:  Коттедж, Таунхаус Офис (более пяти контроллеров на этаж), Гостиница     Для работы серверов не требуется запуск графической оболочки  Загрузка Готовые архиве содержат все исполняемые фйлы под все поддерживаемые архитектуры и операционные системы.</description>
    </item>
    
    <item>
      <title>workflow</title>
      <link>https://e154.github.io/smart-home/en/javascript/_workflow/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_workflow/</guid>
      <description>Workflow Получить текущий Workflow. Выражение может вырнуть null если скрипт исполняется вне контекста Workflow
Синтаксис
workflow = Workflow  На выходе
   Значение Описание     workflow type: Object, ссылка на экземпляр *Workflow    Доступные методы приведены далее:
.GetName() Получить наименование текущего Workflow
Синтаксис
if Workflow name = Workflow.GetName() print &#39;wf name&#39;, name  .GetDescription() Получить описание текущего Workflow
if Workflow descr = Workflow.</description>
    </item>
    
    <item>
      <title>quick install</title>
      <link>https://e154.github.io/smart-home/en/getting-started/_quick_install/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/_quick_install/</guid>
      <description>Быстрая установка  Подразумевается что у это первая установка в систему Установка будет проходить в автоматическом режиме Директория установки /opt/smart-home После установки потребуется настроить подключение к серверу баз данных postgresql  Установка сервера
curl -sSL http://e154.github.io/smart-home/server-installer.sh | bash /dev/stdin --install  Установка конфигуратор
curl -sSL http://e154.github.io/smart-home/configurator-installer.sh | bash /dev/stdin --install  Установка узла связи
curl -sSL http://e154.github.io/smart-home/node-installer.sh | bash /dev/stdin --install  Нвстройка сервера баз данных postgresql
sudo -u postgres psql postgres=# create database smart_home; postgres=# create user smart_home with encrypted password &#39;smart_home&#39;; postgres=# grant all privileges on database smart_home to smart_home;  Запуск сервера</description>
    </item>
    
    <item>
      <title>flow</title>
      <link>https://e154.github.io/smart-home/en/javascript/_flow/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_flow/</guid>
      <description>Flow Получить текущий процесс. Может вырнуть null если скрипт запускается вне контекста Workflow
flow = Flow return if !flow  На выходе
   Значение Описание     flow type: Object, ссылка на экземпляр *Flow    Доступные методы приведены далее:
.GetName() Получить наименование текущего Flow процесса.
flow = Flow if flow name = flow.GetName() print &#39;flow name&#39;, name  На выходе
   Значение Описание     name type: string    .</description>
    </item>
    
    <item>
      <title>log</title>
      <link>https://e154.github.io/smart-home/en/javascript/_map/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_map/</guid>
      <description>Map* Возвращает объект карты
map = Map  Доступные методы приведены далее:
.SetElementState(device, elementName, newState) Map.SetElementState(device, &#39;dev1_light1&#39;, &#39;ERROR&#39;)  На входе
   Значение Описание     device type: Object, ссылка на объект DeviceModel{}   elementName type: string, наименование элемента   newState type: string, системное наименование состояния    .GetElement(device, elementName) elements = Map.GetElement(device, &#39;dev1_light1&#39;)  На входе
   Значение Описание     device type: Object, ссылка на объект Device{}   elementName type: string, наименование элемента    На выходе</description>
    </item>
    
    <item>
      <title>mqtt</title>
      <link>https://e154.github.io/smart-home/en/javascript/_mqtt/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_mqtt/</guid>
      <description> Mqtt Объект mqtt клиента
return if !Mqtt  На выходе
   Значение Описание     mqtt type: Object, ссылка на экземпляр *Mqtt    Доступные методы приведены далее:
.Publish(topic, payload, qos, retain) Отправить сообщение в канал
if Mqtt Mqtt.publish(topic, payload, qos, retain)  На выходе
   Значение Описание     topic type: string   payload type: []byte   qos type: uint8   retain type: bool    </description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/getting-started/_install/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/_install/</guid>
      <description>Установка Будет произведена базовая установка системы Умный дом на сервер под операционной системой linux Debian. С не значительными изменениями установка будет подобна для других операционных систем.
План действий:
 Создание директорий Скачивание и распаковка Настройка сервера Настройка конфигуратора Настройка ноды База postgres     Информация о системе на которой производилось развёртывание:
delta54@darkstar:tmp$ uname -a Linux darkstar 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u2 (2016-10-19) x86_64 GNU/Linux  delta54@darkstar:tmp$ cat /etc/*release* PRETTY_NAME=&amp;quot;Debian GNU/Linux 8 (jessie)&amp;quot;  Создание директорий Рекомендуемая директория установки сервера /opt/smart-home, в неё и будет производиться дальнейшая установка.</description>
    </item>
    
    <item>
      <title>log</title>
      <link>https://e154.github.io/smart-home/en/javascript/_log/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_log/</guid>
      <description> Log Логирование состояния.
log = Log  На выходе
   Значение Описание     log type: Object, ссылка на экземпляр *Log    Доступные методы приведены далее:
.info() Log.Info(&#39;Info message&#39;)  .warn() Log.Warn(&#39;Warning message&#39;)  .error() Log.Error(&#39;Error message&#39;)  .debug() Log.Debug(&#39;Debug message&#39;)  </description>
    </item>
    
    <item>
      <title>template</title>
      <link>https://e154.github.io/smart-home/en/javascript/_template/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_template/</guid>
      <description> Template Возвращает генератор шаблонов
.Render(name, options) Получить наименование устройства.
render = Template.Render(name, {&#39;key&#39;:&#39;val&#39;})  На входе
   Значение Описание     name type: string, наименование шаблона   options type: Object, лъект для заполнения шаблона    На выходе
   Значение Описание     render type: Object, шаблон    </description>
    </item>
    
    <item>
      <title>notifr</title>
      <link>https://e154.github.io/smart-home/en/javascript/_notifr/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_notifr/</guid>
      <description>Notifr Отправка уведомлений
.NewSMS() смс сообщение
msg = Notifr.NewSMS() msg.AddPhone(&amp;quot;+1-222-333-44-55&amp;quot;) msg.Text = &amp;quot;hola&amp;quot; # optional #render = Template.Render(name, {&#39;key&#39;:&#39;val&#39;}) #msg.SetRender(render) Notifr.Send(msg)  На выходе
   Значение Описание     msg type: Object, смс объект sms    .NewEmail() Email сообщение
msg = Notifr.NewEmail() msg.From = &amp;quot;&amp;quot; msg.To = &amp;quot;&amp;quot; msg.Subject = &amp;quot;&amp;quot; msg.Body = &amp;quot;&amp;quot; # optional #render = Template.Render(name, {&#39;key&#39;:&#39;val&#39;}) #msg.SetRender(render) Notifr.Send(msg)  На выходе</description>
    </item>
    
    <item>
      <title>etc</title>
      <link>https://e154.github.io/smart-home/en/javascript/_etc/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_etc/</guid>
      <description>CurrentNode() Получить текущую ноду. Выражение может вырнуть null если скрипт исполняется вне контекста Workflow
node = CurrentNode() print &#39;current node&#39;, node  На выходе
   Значение Описание     node type: Object, ссылка на экземпляр Node    CurrentDevice() Получить текущее утройство. Выражение может вырнуть null если скрипт исполняется вне контекста Workflow
device = CurrentDevice() print &#39;current device&#39;, device  На выходе
   Значение Описание     device type: Object, ссылка на экземпляр Device    Runmode Текущий режим, prod | dev</description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/getting-started/_update/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/_update/</guid>
      <description>Обновление Обновление системных компонентов заключается в полной замене всех исполняемых файлов, и возмножно частичной коррекции конфигурационных файлов.
Правило замены справедливо для следующих компонентов:
 Сервер Конфигуратор Нода  Обновление базы postgres система базы данных имеет внтренный миханизм миграций. При подключении сервер проверяет текущую версию, и запускает миграции если сервер их имеет. Ручное вмешательство для обновления БД не требуется.</description>
    </item>
    
    <item>
      <title>device</title>
      <link>https://e154.github.io/smart-home/en/javascript/_device/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_device/</guid>
      <description>Device{} Получить текущее устройство. Может вырнуть null если скрипт запускается вне контекста Workflow
Доступные методы приведены далее:
.GetName() Получить наименование устройства.
name = dev.GetName()  На выходе
   Значение Описание     name type: string    .GetDescription() Получить описание устройства.
description = dev.GetDescription()  На выходе
   Значение Описание     description type: string    .RunCommand(name, args) Выполнить комманду на устройстве.</description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/getting-started/_service/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/_service/</guid>
      <description>Автозапуск Для автозапуска сервисов server, node, или gate нужно воспользоваться инструментарием используемой операционной операционной системы. С каждым сервисом поставляется конфигурационный файл smart-home-server.service unit для запуска в среде systemd.
так выглядит unit для сервера
[Unit] Description=Smart home server After=multi-user.target Requires=postgresql.service [Service] Type=simple Restart=always WorkingDirectory=/opt/smart-home/server ExecStart=/opt/smart-home/server/server User=smart_home Group=smart_home [Install] WantedBy=multi-user.target  команды для регистрации сервера в systemd
cudo cp /opt/smart-home/server/conf/smart-home-server.service /lib/systemd/system sudo systemctl daemon-reload systemctl enable smart-home-server  запуска сервера
systemctl start smart-home-server  остановка сервера</description>
    </item>
    
    <item>
      <title>map_element</title>
      <link>https://e154.github.io/smart-home/en/javascript/_map_element/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_map_element/</guid>
      <description>MapElement{} Объект карты
Доступные методы приведены далее:
.SetState(name) Получить наименование устройства.
mapElement.SetState(name)  На входе
   Значение Описание     name type: string    .GetState() Получить наименование устройства.
state = mapElement.GetState()  На выходе
   Значение Описание     state type: string    .SetOptions(options) Получить наименование устройства.
mapElement.SetOptions(options)  На входе
   Значение Описание     options type: json string    .</description>
    </item>
    
    <item>
      <title>message</title>
      <link>https://e154.github.io/smart-home/en/javascript/_message/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_message/</guid>
      <description>message message - транспортный объект для передачи состояния(переменные и объекты вызова) между сущностями в конструкторе процессов Flow editor
Доступные свойства и методы:
.SetVar(key, value) message.SetVar(&#39;foo&#39;, &#39;bar&#39;)  определение переменной в хранилище
На входе
   Значение Описание     key type: string   value type: interface    .GetVar(key) получение переменной из хранилища
value = message.GetVar(&#39;foo&#39;)  На входе
   Значение Описание     key type: string    На выходе</description>
    </item>
    
    <item>
      <title>node</title>
      <link>https://e154.github.io/smart-home/en/javascript/_node/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_node/</guid>
      <description>Node{} Объект ноды
Доступные методы приведены далее:
.Name() Получить наименование устройства.
name = node.Name()  На выходе
   Значение Описание     name type: string    .Description() Получить наименование устройства.
description = node.Description()  На выходе
   Значение Описание     description type: string    .Status() Получить наименование устройства.
status = node.Status()  На выходе
   Значение Описание     status type: string    .</description>
    </item>
    
    <item>
      <title>overview</title>
      <link>https://e154.github.io/smart-home/en/getting-started/_install_from_source/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/_install_from_source/</guid>
      <description>Сборка из исходного кода Все микросервисы написаны на языке Golang. Прежде чем продолжить разверните у себя последнюю стабильную версию языка download.
Установка будет производиться в операционной системе Debian GNU/Linux 8 (jessie). Сборка в корне домашней директории, в папке smart-home
sudo mkdir -p /opt/smart-home sudo chown $USER:$USER /opt/smart-home -R mkdir -p /opt/smart-home/server mkdir -p /opt/smart-home/configurator mkdir -p /opt/smart-home/node mkdir ~/smart-home go get -u github.com/golang/dep/cmd/dep sudo npm install -g bower sudo npm install -g hulp  Сборка сервера cd ~/smart-home git clone git@github.</description>
    </item>
    
    <item>
      <title>objects</title>
      <link>https://e154.github.io/smart-home/en/javascript/_objects/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/_objects/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Api</title>
      <link>https://e154.github.io/smart-home/en/api/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/api/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Getting started</title>
      <link>https://e154.github.io/smart-home/en/getting-started/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/getting-started/</guid>
      <description></description>
    </item>
    
    <item>
      <title>JavaScript</title>
      <link>https://e154.github.io/smart-home/en/javascript/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/javascript/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Smart home</title>
      <link>https://e154.github.io/smart-home/en/projects/project-1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/projects/project-1/</guid>
      <description> An example of a typical project Smart House </description>
    </item>
    
    <item>
      <title>Гостиница</title>
      <link>https://e154.github.io/smart-home/en/projects/project-5/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/projects/project-5/</guid>
      <description> Гостиница </description>
    </item>
    
    <item>
      <title>Квартира</title>
      <link>https://e154.github.io/smart-home/en/projects/project-3/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/projects/project-3/</guid>
      <description> Квартира в многоквартирном доме </description>
    </item>
    
    <item>
      <title>Многоквартирный дом</title>
      <link>https://e154.github.io/smart-home/en/projects/project-4/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/projects/project-4/</guid>
      <description> Многоквартирный дом </description>
    </item>
    
    <item>
      <title>Музыка, свет, домофон</title>
      <link>https://e154.github.io/smart-home/en/projects/project-6/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/projects/project-6/</guid>
      <description> Управление музыкой, светом, домофоном </description>
    </item>
    
    <item>
      <title>Система отопления</title>
      <link>https://e154.github.io/smart-home/en/projects/project-2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://e154.github.io/smart-home/en/projects/project-2/</guid>
      <description> Система отопления в доме </description>
    </item>
    
  </channel>
</rss>