<!doctype html><html lang=ru class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.89.4"><link rel=canonical type=text/html href=https://e154.github.io/smart-home/ru/docs/plugins/>
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel="shortcut icon" href=/smart-home/favicons/favicon.ico>
<link rel=apple-touch-icon href=/smart-home/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/smart-home/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/smart-home/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/smart-home/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/smart-home/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/smart-home/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/smart-home/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/smart-home/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/smart-home/favicons/android-192x192.png sizes=192x192>
<title>Plugins | Умный дом</title>
<meta name=description content="Проект Smart Home также поддерживает систему плагинов, что позволяет легко расширять его функциональность и интегрировать
сторонние компоненты. …">
<meta property="og:title" content="Plugins">
<meta property="og:description" content="Програмный комплекс">
<meta property="og:type" content="website">
<meta property="og:url" content="https://e154.github.io/smart-home/ru/docs/plugins/"><meta property="og:site_name" content="Умный дом">
<meta itemprop=name content="Plugins">
<meta itemprop=description content="Програмный комплекс"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Plugins">
<meta name=twitter:description content="Програмный комплекс">
<link rel=preload href=/smart-home/scss/main.min.bd5285b713d3061549a6bfd34e5f4ec6775ede36672a3088260f0d420050647f.css as=style>
<link href=/smart-home/scss/main.min.bd5285b713d3061549a6bfd34e5f4ec6775ede36672a3088260f0d420050647f.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
</head>
<body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/smart-home/ru/>
<span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Умный дом</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/smart-home/ru/docs/><span class=active>Документация</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Русский
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/smart-home/docs/plugins/>English</a>
</div>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block">
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
</div>
<div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
</div>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href=/smart-home/ru/docs/plugins/>Return to the regular view of this page</a>.
</p>
</div>
<h1 class=title>Plugins</h1>
<ul>
<li>1: <a href=#pg-ca2fd0a932eee66a200558a82ca847ea>Webdav</a></li>
<li>2: <a href=#pg-53957103549e682ab1b0aa2bb65ce6fe>MQTT bridge</a></li>
<li>3: <a href=#pg-271c67f1de2b18fc5b0634b92a8c27c8>Plugin ONVIF</a></li>
<li>4: <a href=#pg-e8b319a66335a30c657903345ca1d698>Speedtest</a></li>
<li>5: <a href=#pg-421d1625cd3fc0768a5e9395096f9ba0>Modbus</a></li>
<ul>
<li>5.1: <a href=#pg-83ccc62bb21aa1015dc85c4aa89b620d>Modbus rtu</a></li>
<li>5.2: <a href=#pg-2ab89625f67635397c493f87afe8c5f2>Modbus tcp</a></li>
</ul>
<li>6: <a href=#pg-0369b4decf3a671c6e8e5d18b35ebcef>Alexa</a></li>
<li>7: <a href=#pg-ef2b94f1a2a793c6662e60a76d3c9154>Cgminer</a></li>
<ul>
<li>7.1: <a href=#pg-e8459aa132552732476b3a393a8246c7>Bitmine</a></li>
</ul>
<li>8: <a href=#pg-2cd4f07024ce46a2072e53614567c7fb>CPU</a></li>
<li>9: <a href=#pg-d57edab1df39efff0606d11217501497>HDD</a></li>
<li>10: <a href=#pg-ad72d5bfe8ed58703be4f95c5433bbbb>Memory</a></li>
<li>11: <a href=#pg-646b43ce7e0c9ecd76b7e1b081534840>Memory app</a></li>
<li>12: <a href=#pg-95c950e340c5f9306b492b322325c66d>Moon</a></li>
<li>13: <a href=#pg-75a67472ccb2a758f48c263d48be08d3>MQTT</a></li>
<li>14: <a href=#pg-98e5f3c64adb1e62039387bca695fb54>Node</a></li>
<li>15: <a href=#pg-25150d443099ad5064f1a3a39214945d>Отправка сообщений</a></li>
<ul>
<li>15.1: <a href=#pg-c757c4a3128c020469fa7e844a0b07d1>EMAIL</a></li>
<li>15.2: <a href=#pg-db0e74844d4ec70b97b7eed2dcaa6fde>Push уведомления</a></li>
<li>15.3: <a href=#pg-b9e7dc050746e93f66a3fcdc54072720>HTML5 Уведомления</a></li>
<li>15.4: <a href=#pg-ffcf992bf86dcf75fc98ea391689be36>Messagebird</a></li>
<li>15.5: <a href=#pg-ae8769291a804111fe0f11577b37bb14>Slack</a></li>
<li>15.6: <a href=#pg-3474b889257fbfc72d90e2b2883e468a>Telegram</a></li>
<li>15.7: <a href=#pg-8d473157f65e8e52157febb9c1671a23>Twilio</a></li>
<li>15.8: <a href=#pg-56027f5b7f86e356eca9778287b4e9b7>Шаблон сообщения</a></li>
</ul>
<li>16: <a href=#pg-c611e1f9047c1d78be304f536e42a8a9>Scene</a></li>
<li>17: <a href=#pg-0a07d6aae278970d2834de3c5c8ba6fd>Sensor</a></li>
<li>18: <a href=#pg-07071769f18bcd958fb6807bfc051634>Sun</a></li>
<li>19: <a href=#pg-e2fff1dd07e3240d15c8fe3dda77a94e>Triggers</a></li>
<li>20: <a href=#pg-4183e9971a270328fbc64107268e1231>Updater</a></li>
<li>21: <a href=#pg-d3da1ca7f3ff8128df9b7a16dfe42fe6>Uptime</a></li>
<li>22: <a href=#pg-50e5123a4407c924b74ee84b77d3efbf>Version</a></li>
<li>23: <a href=#pg-64ab3664ef92bf81dcd376de6083e938>Weather</a></li>
<ul>
<li>23.1: <a href=#pg-4e6b5c2d397c558708e54206184aa268>MET</a></li>
<li>23.2: <a href=#pg-b2af757d2aed5c975040722fd880df27>OWM</a></li>
</ul>
<li>24: <a href=#pg-61b4e27718e29c034a152d0ee2706628>Zigbee2mqtt</a></li>
</ul>
<div class=content>
<p>Проект <strong>Smart Home</strong> также поддерживает систему плагинов, что позволяет легко расширять его функциональность и интегрировать
сторонние компоненты. Система плагинов обеспечивает гибкость и модульность, позволяя пользователям добавлять новые возможности
и настраивать проект согласно их потребностям.</p>
<p>Плагины в проекте <strong>Smart Home</strong> представляют собой отдельные модули, написанные на Go, которые можно подключать
и использовать для добавления новых функций и интеграции с различными устройствами и сервисами. Каждый плагин обеспечивает
определенную функциональность, такую как поддержка определенного типа устройств, интеграция с внешними сервисами или
реализация специфических правил автоматизации.</p>
<p>Система плагинов в проекте <strong>Smart Home</strong> предоставляет стандартные интерфейсы и соглашения, которые облегчают разработку
и интеграцию плагинов. Она позволяет разработчикам создавать плагины, которые могут взаимодействовать с основной системой
проекта, получать доступ к данным и устройствам, а также добавлять свои собственные функции и возможности.</p>
<p>Использование системы плагинов в проекте <strong>Smart Home</strong> позволяет пользователям выбирать и настраивать только те функции,
которые им необходимы, и избегать избыточности или излишней сложности. Они могут добавлять новые плагины или отключать уже
существующие, чтобы создать индивидуальное решение, полностью соответствующее их потребностям.</p>
<p>Благодаря системе плагинов, проект <strong>Smart Home</strong> становится более гибким и расширяемым, позволяя пользователям адаптировать
его под свои уникальные требования. Она также способствует активному сообществу разработчиков и увеличивает возможности совместной
работы и обмена плагинами, что способствует дальнейшему развитию проекта и расширению его экосистемы.</p>
<p>В документации проекта <strong>Smart Home</strong> вы найдете подробные инструкции по созданию, установке и настройке плагинов, а
также примеры использования. Это поможет вам начать разрабатывать свои собственные плагины и настроить проект <strong>Smart Home</strong>
в соответствии с вашими потребностями и предпочтениями.</p>
</div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ca2fd0a932eee66a200558a82ca847ea>1 - Webdav</h1>
<h3 id=интеграция-плагина-webdav-для-работы-со-скриптами-в-системе-smart-home>Интеграция Плагина WebDAV для Работы со Скриптами в Системе Smart Home</h3>
<p>В системе Smart Home был успешно добавлен и интегрирован плагин WebDAV, предоставляющий удобный доступ к скриптам через
любую удобную IDE, поддерживающую данный протокол. Это открывает новые возможности для разработки и настройки скриптов,
делая процесс более гибким и удобным.</p>
<h4 id=основные-возможности-плагина-webdav>Основные возможности плагина WebDAV:</h4>
<ol>
<li>
<p><strong>Доступ к Скриптам из Любой IDE:</strong></p>
<ul>
<li>Плагин WebDAV позволяет подключаться к системе Smart Home из любой совместимой с протоколом WebDAV интегрированной
среды разработки (IDE). Это упрощает процесс создания, редактирования и тестирования скриптов.</li>
</ul>
</li>
<li>
<p><strong>Гибкость Разработки:</strong></p>
<ul>
<li>Разработчики могут использовать предпочитаемые инструменты и IDE для работы с JavaScript-скриптами системы Smart
Home. Это включает в себя возможность отладки, автодополнения и другие функции, предоставляемые выбранной средой
разработки.</li>
</ul>
</li>
<li>
<p><strong>Управление Скриптами извне:</strong></p>
<ul>
<li>Плагин WebDAV позволяет управлять скриптами в системе Smart Home, загружать новые скрипты, обновлять существующие
и выполнять другие операции удаленно из выбранной IDE.</li>
</ul>
</li>
<li>
<p><strong>Безопасность и Защита Данных:</strong></p>
<ul>
<li>Все операции через протокол WebDAV обеспечиваются средствами безопасности, что гарантирует сохранность данных и
предотвращает несанкционированный доступ.</li>
</ul>
</li>
</ol>
<h4 id=пример-подключения-из-ide-с-поддержкой-webdav>Пример Подключения из IDE с Поддержкой WebDAV:</h4>
<ol>
<li>
<p><strong>Настройка Подключения:</strong></p>
<ul>
<li>В IDE выберите опцию подключения к удаленному репозиторию или файловой системе через протокол WebDAV.</li>
</ul>
</li>
<li>
<p><strong>Указание Адреса и Учетных Данных:</strong></p>
<ul>
<li>Укажите адрес системы Smart Home с учетом протокола WebDAV, а также предоставьте учетные данные для доступа.</li>
</ul>
</li>
<li>
<p><strong>Просмотр и Редактирование Скриптов:</strong></p>
<ul>
<li>После успешного подключения, скрипты системы Smart Home будут доступны для просмотра и редактирования
непосредственно из вашей IDE.</li>
</ul>
</li>
<li>
<p><strong>Выгрузка и Загрузка Скриптов:</strong></p>
<ul>
<li>Вы можете выгружать уже существующие скрипты, вносить изменения и загружать их обратно в систему Smart Home без
необходимости напрямую взаимодействовать с интерфейсом системы.</li>
</ul>
</li>
</ol>
<h4 id=заключение>Заключение:</h4>
<p>Интеграция плагина WebDAV в систему Smart Home значительно улучшает процесс разработки и управления скриптами, делая его
более удобным, гибким и доступным для разработчиков.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-53957103549e682ab1b0aa2bb65ce6fe>2 - MQTT bridge</h1>
<p>Плагин MQTT Bridge предоставляет функциональность для интеграции устройств через протокол MQTT. Этот плагин позволяет эффективно обмениваться данными между устройствами и системой Smart Home, используя брокер MQTT.</p>
<h4 id=настройки-устройства>Настройки устройства</h4>
<p>Каждое устройство, созданное с использованием плагина MQTT Bridge, обладает следующими настройками:</p>
<ul>
<li>
<p><strong><code>keepAlive</code> (тип: Int)</strong>: Время в секундах, через которое устройство отправляет пинг для поддержания активного соединения с брокером.</p>
</li>
<li>
<p><strong><code>pingTimeout</code> (тип: Int)</strong>: Время в секундах, ожидаемое для получения ответа на пинг от брокера.</p>
</li>
<li>
<p><strong><code>broker</code> (тип: String)</strong>: Адрес брокера MQTT, к которому устройство будет подключаться.</p>
</li>
<li>
<p><strong><code>clientID</code> (тип: String)</strong>: Идентификатор клиента, используемый при подключении к брокеру.</p>
</li>
<li>
<p><strong><code>connectTimeout</code> (тип: Int)</strong>: Время в секундах, выделенное для установки соединения с брокером.</p>
</li>
<li>
<p><strong><code>cleanSession</code> (тип: Bool)</strong>: Флаг, указывающий, следует ли использовать &ldquo;чистую&rdquo; сессию при подключении.</p>
</li>
<li>
<p><strong><code>username</code> (тип: String)</strong>: Имя пользователя для аутентификации при подключении к брокеру.</p>
</li>
<li>
<p><strong><code>password</code> (тип: Encrypted)</strong>: Зашифрованный пароль для аутентификации при подключении к брокеру.</p>
</li>
<li>
<p><strong><code>qos</code> (тип: Int)</strong>: Уровень обслуживания сообщений (Quality of Service) для взаимодействия с брокером.</p>
</li>
<li>
<p><strong><code>direction</code> (тип: String)</strong>: Направление взаимодействия (например, &ldquo;inbound&rdquo; или &ldquo;outbound&rdquo;).</p>
</li>
<li>
<p><strong><code>topics</code> (тип: String)</strong>: Список тем, с которыми устройство будет взаимодействовать.</p>
</li>
</ul>
<h4 id=статусы-устройства>Статусы устройства</h4>
<p>Каждое устройство, созданное с использованием плагина MQTT Bridge, может иметь следующие статусы:</p>
<ul>
<li>
<p><strong><code>connected</code></strong>: Устройство успешно подключено к брокеру MQTT и готово к обмену данными.</p>
</li>
<li>
<p><strong><code>offline</code></strong>: Устройство не подключено к брокеру или потеряло соединение.</p>
</li>
</ul>
<p>Эти настройки и статусы обеспечивают гибкость в интеграции устройств через протокол MQTT, позволяя легко настраивать и мониторить их состояние в рамках системы Smart Home.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-271c67f1de2b18fc5b0634b92a8c27c8>3 - Plugin ONVIF</h1>
<p>Проект Smart Home предоставляет плагин ONVIF, который обеспечивает возможность взаимодействия с камерами наблюдения по протоколу ONVIF. Данный плагин реализует несколько методов JavaScript, предназначенных для управления камерами и получения снимков.</p>
<h4 id=методы-javascript>Методы JavaScript</h4>
<ol>
<li>
<p><strong><code>Camera.continuousMove(X, Y)</code></strong>: Этот метод позволяет осуществлять плавное движение камеры по координатам X и Y.</p>
</li>
<li>
<p><strong><code>Camera.stopContinuousMove()</code></strong>: Данный метод останавливает непрерывное движение камеры.</p>
</li>
<li>
<p><strong><code>OnvifGetSnapshotUri(entityId)</code></strong>: Метод для получения URI снимка для указанного идентификатора устройства.</p>
</li>
<li>
<p><strong><code>DownloadSnapshot(entityId)</code></strong>: Метод для загрузки снимка с устройства по его идентификатору.</p>
</li>
</ol>
<h4 id=статус-устройства>Статус устройства</h4>
<ul>
<li><strong><code>motion</code> (тип: Boolean)</strong>: Статус, отображающий наличие движения, определенного камерой наблюдения.</li>
</ul>
<h4 id=настройки-устройства>Настройки устройства</h4>
<ul>
<li>
<p><strong><code>address</code> (тип: String)</strong>: IP-адрес камеры наблюдения.</p>
</li>
<li>
<p><strong><code>onvifPort</code> (тип: Int)</strong>: Порт для соединения с камерой по протоколу ONVIF.</p>
</li>
<li>
<p><strong><code>rtspPort</code> (тип: Int)</strong>: Порт для передачи видео по протоколу RTSP.</p>
</li>
<li>
<p><strong><code>userName</code> (тип: String)</strong>: Имя пользователя для аутентификации при доступе к камере.</p>
</li>
<li>
<p><strong><code>password</code> (тип: Encrypted)</strong>: Зашифрованный пароль для аутентификации.</p>
</li>
<li>
<p><strong><code>requireAuthorization</code> (тип: Bool)</strong>: Флаг, указывающий, требуется ли авторизация для взаимодействия с камерой.</p>
</li>
</ul>
<h4 id=команды-управления>Команды управления</h4>
<ul>
<li>
<p><strong><code>continuousMove</code></strong>: Команда для запуска непрерывного движения камеры.</p>
</li>
<li>
<p><strong><code>stopContinuousMove</code></strong>: Команда для остановки непрерывного движения камеры.</p>
</li>
</ul>
<h4 id=статусы-устройства>Статусы устройства</h4>
<ul>
<li>
<p><strong><code>connected</code></strong>: Устройство успешно подключено и готово к работе.</p>
</li>
<li>
<p><strong><code>offline</code></strong>: Устройство недоступно или отключено от системы.</p>
</li>
</ul>
<p>Эти функции позволяют интегрировать камеры наблюдения в систему Smart Home и эффективно управлять ими через плагин ONVIF.</p>
<p>Пример использования плагина &ldquo;onvif&rdquo; для реализации управления камерой:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#000>continuousMove</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>X</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Y</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000>X</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>args</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;X&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000>Y</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>args</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;Y&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87>Math</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>abs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>X</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#204a87>Math</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>abs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Y</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>Y</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>X</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000;font-weight:700>}</span>
    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Camera</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>continuousMove</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>X</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Y</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>};</span>

<span style=color:#000>stopStop</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Camera</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>stopContinuousMove</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000;font-weight:700>};</span>

</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e8b319a66335a30c657903345ca1d698>4 - Speedtest</h1>
<p>Плагин Speedtest предоставляет возможность измерения скорости интернет-соединения непосредственно из системы Smart Home. Этот плагин позволяет пользователям проверять качество своего интернет-подключения, а также использовать полученные данные для принятия решений по оптимизации сетевых параметров.</p>
<h4 id=свойства-устройства>Свойства устройства</h4>
<p>Каждое устройство, созданное с использованием плагина Speedtest, обладает следующими свойствами:</p>
<ul>
<li>
<p><strong><code>Point</code></strong>: Географические координаты узла Speedtest.</p>
</li>
<li>
<p><strong><code>Name</code> (тип: String)</strong>: Название проведенного теста Speedtest.</p>
</li>
<li>
<p><strong><code>Country</code> (тип: String)</strong>: Страна, в которой проводится тест.</p>
</li>
<li>
<p><strong><code>Sponsor</code> (тип: String)</strong>: Название спонсора теста Speedtest.</p>
</li>
<li>
<p><strong><code>Distance</code> (тип: Float)</strong>: Расстояние до сервера Speedtest в километрах.</p>
</li>
<li>
<p><strong><code>Latency</code> (тип: String)</strong>: Задержка (пинг) до сервера Speedtest.</p>
</li>
<li>
<p><strong><code>Jitter</code> (тип: String)</strong>: Индикатор стабильности интернет-соединения.</p>
</li>
<li>
<p><strong><code>DLSpeed</code> (тип: Float)</strong>: Скорость загрузки (Download Speed) в мегабитах в секунду.</p>
</li>
<li>
<p><strong><code>ULSpeed</code> (тип: Float)</strong>: Скорость выгрузки (Upload Speed) в мегабитах в секунду.</p>
</li>
<li>
<p><strong><code>location</code> (тип: Point)</strong>: Географические координаты местоположения устройства.</p>
</li>
</ul>
<h4 id=настройки-устройства>Настройки устройства</h4>
<p>Каждое устройство, созданное с использованием плагина Speedtest, содержит следующие настройки:</p>
<ul>
<li>
<p><strong><code>location</code> (тип: Point)</strong>: Географические координаты, указывающие местоположение устройства для проведения теста Speedtest.</p>
</li>
<li>
<p><strong><code>city</code> (тип: String)</strong>: Название города, в котором будет производиться тестирование.</p>
</li>
</ul>
<h4 id=статусы-устройства>Статусы устройства</h4>
<p>Каждое устройство, созданное с использованием плагина Speedtest, может иметь следующие статусы:</p>
<ul>
<li>
<p><strong><code>completed</code></strong>: Тестирование завершено успешно, и данные доступны для анализа.</p>
</li>
<li>
<p><strong><code>in process</code></strong>: Тестирование находится в процессе выполнения.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-421d1625cd3fc0768a5e9395096f9ba0>5 - Modbus</h1>
<p>Расширение для работы с устройствами по открытому коммуникационному протоколу <strong>modbus</strong>
основанный на архитектуре ведущий — ведомый. Использует для передачи данных интерфейсы RS-485,
RS-422, RS-232, а также Ethernet сети TCP/IP (протокол Modbus TCP).</p>
<p><a href=https://ru.wikipedia.org/wiki/Modbus>wiki</a></p>
</div>
<div class=td-content>
<h1 id=pg-83ccc62bb21aa1015dc85c4aa89b620d>5.1 - Modbus rtu</h1>
<p>В системе <strong>Smart Home</strong> реализован плагин Modbus RTU, который обеспечивает взаимодействие с устройствами по протоколу
Modbus RTU. Плагин предоставляет метод <code>ModbusRtu(FUNC, ADDRESS, COUNT, COMMAND)</code>, позволяющий отправлять команды и
получать данные по указанному протоколу.</p>
<p>Аргументы метода <code>ModbusRtu</code>:</p>
<ol>
<li><code>FUNC</code>: Код функции Modbus, указывающий тип операции, которую следует выполнить с устройством.</li>
<li><code>ADDRESS</code>: Адрес устройства Modbus, к которому отправляется команда.</li>
<li><code>COUNT</code>: Количество регистров или битов, которые следует прочитать или записать.</li>
<li><code>COMMAND</code>: Команда, которую необходимо выполнить, указывающая дополнительные параметры и настройки.</li>
</ol>
<p>Пример использования:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>COMMAND</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>FUNC</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;ReadHoldingRegisters&#39;</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>ADDRESS</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>COUNT</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>16</span>

<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ModbusRtu</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>FUNC</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ADDRESS</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COUNT</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COMMAND</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Метод <code>ModbusRtu</code> позволяет отправлять команды Modbus RTU, выполнять чтение или запись регистров и получать данные от
устройств. Вы можете использовать этот метод в вашем проекте <strong>Smart Home</strong> для взаимодействия с устройствами, поддерживающими
протокол Modbus RTU.</p>
<div class="alert alert-warning" role=alert>
Для работы с modbus rtu устройством требуется настроенная <strong>нода</strong>
</div>
<h3 id=настройка>Настройка:</h3>
<ul>
<li>slave_id <code>1-32</code></li>
<li>baud <code>9600, 19200</code></li>
<li>data_bits <code>5-9</code></li>
<li>timeout <code>milliseconds</code></li>
<li>stop_bits <code>1-2</code></li>
<li>sleep <code>milliseconds</code></li>
<li>parity <code>none, odd, even</code></li>
</ul>
<h3 id=команды>Команды:</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=статус>Статус</h3>
<ul>
<li>произвольный набор</li>
</ul>
<hr>
<h3 id=доступные-функции>Доступные функции</h3>
<p><strong>1 битные функции</strong></p>
<p>ReadCoils <br>
ReadDiscreteInputs<br>
WriteSingleCoil <br>
WriteMultipleCoils</p>
<p><strong>16 битные функции</strong></p>
<p>ReadInputRegisters <br>
ReadHoldingRegisters <br>
ReadWriteMultipleRegisters<br>
WriteSingleRegister <br>
WriteMultipleRegisters</p>
<hr>
<h3 id=javascript-свойства>javascript свойства</h3>
<ul>
<li>ENTITY_ID</li>
<li>ModbusRtu</li>
<li>entityAction</li>
<li>Action</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># константа с уникальным id устройства
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>const</span> <span style=color:#000>ENTITY_ID</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># выполнение команды(функции) на устройсте:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>result = </span><span style=color:#000>ModbusRtu</span> <span style=color:#000>func</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>addr</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>command</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>func</td>
<td>функция для выполнения на устройстве</td>
</tr>
<tr>
<td>addr</td>
<td>Адрес первого регистра (40108-40001 = 107 =6B hex)</td>
</tr>
<tr>
<td>count</td>
<td>Количество требуемых регистров (чтение 3-х регистров с 40108 по 40110)</td>
</tr>
<tr>
<td>command</td>
<td>Команда</td>
</tr>
</tbody>
</table>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># функция-обработчик события действий:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>entityId</td>
<td>уникальное id устройства</td>
</tr>
<tr>
<td>actionName</td>
<td>системное наименование действия</td>
</tr>
<tr>
<td>args</td>
<td>Type: map[string]any</td>
</tr>
</tbody>
</table>
<div class="alert alert-warning" role=alert>
Объект <strong>Action</strong> доступен в скриптах действий и скриптах закрепленных за устройством.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>state = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#000>new_state: </span><span style=color:#4e9a06>&#39;ENABLED&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000>attribute_values: </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>heat: </span><span style=color:#204a87;font-weight:700>false</span>
  <span style=color:#000;font-weight:700>},</span>
  <span style=color:#000>settings_value: </span><span style=color:#000;font-weight:700>{},</span>
  <span style=color:#000>storage_save: </span><span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000;font-weight:700>}</span> 
<span style=color:#8f5902;font-style:italic># сохранение состояния 
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>state</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>new_state</td>
<td>уникальное системное наименование состояния</td>
</tr>
<tr>
<td>attribute_values</td>
<td>значения атрибутов ранее определенных для устройства</td>
</tr>
<tr>
<td>settings_value</td>
<td>значения настроек ранее определенных для устройства</td>
</tr>
<tr>
<td>storage_save</td>
<td>признак записи среза состояния в БД</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-coffeescript-кода>пример coffeescript кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># ModbusRtu
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#4e9a06>&#34;use strict&#34;</span><span style=color:#000;font-weight:700>;</span>

<span style=color:#000>checkStatus = </span><span style=color:#000>-&gt;</span>
  <span style=color:#000>COMMAND = </span><span style=color:#000;font-weight:700>[]</span>
  <span style=color:#000>FUNC = </span><span style=color:#4e9a06>&#39;ReadHoldingRegisters&#39;</span>
  <span style=color:#000>ADDRESS = </span><span style=color:#0000cf;font-weight:700>0</span>
  <span style=color:#000>COUNT = </span><span style=color:#0000cf;font-weight:700>16</span>
  
  <span style=color:#8f5902;font-style:italic># выполнение команды(функции) на устройсте:
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>res = </span><span style=color:#000>ModbusRtu</span> <span style=color:#000>FUNC</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ADDRESS</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COUNT</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COMMAND</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>result</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>time</span>

<span style=color:#8f5902;font-style:italic># функция-обработчик события действий:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
  <span style=color:#204a87;font-weight:700>switch</span> <span style=color:#000>actionName</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;ON&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOnAction</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;OFF&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOffAction</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;CHECK&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>checkStatus</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;ON_WITH_ERR&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOnErrAction</span><span style=color:#000;font-weight:700>()</span>

</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2ab89625f67635397c493f87afe8c5f2>5.2 - Modbus tcp</h1>
<p>В системе <strong>Smart Home</strong> реализован плагин Modbus TCP, который обеспечивает взаимодействие с устройствами по протоколу Modbus TCP.
Плагин предоставляет метод <code>ModbusTcp(func, addr, count, command)</code>, позволяющий отправлять команды и получать данные по указанному протоколу.</p>
<p>Аргументы метода <code>ModbusTcp</code>:</p>
<ol>
<li><code>func</code>: Код функции Modbus, указывающий тип операции, которую следует выполнить с устройством.</li>
<li><code>addr</code>: Адрес устройства Modbus, к которому отправляется команда.</li>
<li><code>count</code>: Количество регистров или битов, которые следует прочитать или записать.</li>
<li><code>command</code>: Команда, которую необходимо выполнить, указывающая дополнительные параметры и настройки.</li>
</ol>
<p>Пример использования:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>COMMAND</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>FUNC</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;ReadHoldingRegisters&#39;</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>ADDRESS</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>COUNT</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>16</span>

<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>ModbusTcp</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>FUNC</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ADDRESS</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COUNT</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COMMAND</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Метод <code>ModbusTcp</code> позволяет отправлять команды Modbus TCP, выполнять чтение или запись регистров и получать данные от устройств.
Вы можете использовать этот метод в вашем проекте <strong>Smart Home</strong> для взаимодействия с устройствами, поддерживающими протокол Modbus TCP.</p>
<div class="alert alert-warning" role=alert>
Для работы с modbus rtu устройством требуется настроенная <strong>нода</strong>
</div>
<h3 id=настройка>Настройка:</h3>
<ul>
<li>slave_id <code>1-32</code></li>
<li>address_port <code>localhost:502</code></li>
</ul>
<h3 id=команды>Команды:</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=статус>Статус</h3>
<ul>
<li>произвольный набор</li>
</ul>
<hr>
<h3 id=доступные-функции>Доступные функции</h3>
<p><strong>1 битные функции</strong></p>
<p>ReadCoils <br>
ReadDiscreteInputs<br>
WriteSingleCoil <br>
WriteMultipleCoils</p>
<p><strong>16 битные функции</strong></p>
<p>ReadInputRegisters <br>
ReadHoldingRegisters <br>
ReadWriteMultipleRegisters<br>
WriteSingleRegister <br>
WriteMultipleRegisters</p>
<hr>
<h3 id=javascript-свойства>javascript свойства</h3>
<ul>
<li>ENTITY_ID</li>
<li>ModbusRtu</li>
<li>entityAction</li>
<li>Action</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># константа с уникальным id устройства
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>const</span> <span style=color:#000>ENTITY_ID</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># выполнение команды(функции) на устройсте:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>result = </span><span style=color:#000>ModbusTcp</span> <span style=color:#000>func</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>addr</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>count</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>command</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>func</td>
<td>функция для выполнения на устройстве</td>
</tr>
<tr>
<td>addr</td>
<td>Адрес первого регистра (40108-40001 = 107 =6B hex)</td>
</tr>
<tr>
<td>count</td>
<td>Количество требуемых регистров (чтение 3-х регистров с 40108 по 40110)</td>
</tr>
<tr>
<td>command</td>
<td>Команда</td>
</tr>
</tbody>
</table>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># функция-обработчик события действий:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>entityId</td>
<td>уникальное id устройства</td>
</tr>
<tr>
<td>actionName</td>
<td>системное наименование действия</td>
</tr>
<tr>
<td>args</td>
<td>Type: Attribute</td>
</tr>
</tbody>
</table>
<div class="alert alert-warning" role=alert>
Объект <strong>Action</strong> доступен в скриптах действий и скриптах закрепленных за устройством.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>state = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#000>new_state: </span><span style=color:#4e9a06>&#39;ENABLED&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000>attribute_values: </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>heat: </span><span style=color:#204a87;font-weight:700>false</span>
  <span style=color:#000;font-weight:700>},</span>
  <span style=color:#000>settings_value: </span><span style=color:#000;font-weight:700>{},</span>
  <span style=color:#000>storage_save: </span><span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000;font-weight:700>}</span> 
<span style=color:#8f5902;font-style:italic># сохранение состояния 
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>state</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>new_state</td>
<td>уникальное системное наименование состояния</td>
</tr>
<tr>
<td>attribute_values</td>
<td>значения атрибутов ранее определенных для устройства</td>
</tr>
<tr>
<td>settings_value</td>
<td>значения настроек ранее определенных для устройства</td>
</tr>
<tr>
<td>storage_save</td>
<td>признак записи среза состояния в БД</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-coffeescript-кода>пример coffeescript кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># ModbusTcp
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#4e9a06>&#34;use strict&#34;</span><span style=color:#000;font-weight:700>;</span>

<span style=color:#000>checkStatus = </span><span style=color:#000>-&gt;</span>
  <span style=color:#000>COMMAND = </span><span style=color:#000;font-weight:700>[]</span>
  <span style=color:#000>FUNC = </span><span style=color:#4e9a06>&#39;ReadHoldingRegisters&#39;</span>
  <span style=color:#000>ADDRESS = </span><span style=color:#0000cf;font-weight:700>0</span>
  <span style=color:#000>COUNT = </span><span style=color:#0000cf;font-weight:700>16</span>

  <span style=color:#8f5902;font-style:italic># выполнение команды(функции) на устройсте:
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>res = </span><span style=color:#000>ModbusTcp</span> <span style=color:#000>FUNC</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ADDRESS</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COUNT</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>COMMAND</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>result</span>
  <span style=color:#000>print</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>time</span>

<span style=color:#8f5902;font-style:italic># функция-обработчик события действий:
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
  <span style=color:#204a87;font-weight:700>switch</span> <span style=color:#000>actionName</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;ON&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOnAction</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;OFF&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOffAction</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;CHECK&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>checkStatus</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;ON_WITH_ERR&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>doOnErrAction</span><span style=color:#000;font-weight:700>()</span>

</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0369b4decf3a671c6e8e5d18b35ebcef>6 - Alexa</h1>
<div class="alert alert-warning" role=alert>
Не законченная статья
</div>
<p>В системе <strong>Smart Home</strong> реализован плагин Amazon Alexa, который обеспечивает интеграцию с голосовым помощником Amazon
Alexa. Этот плагин позволяет управлять устройствами и выполнить различные операции в вашем умном доме с помощью
голосовых команд.</p>
<p>Плагин Amazon Alexa обеспечивает следующий функционал:</p>
<ol>
<li>
<p>Распознавание и обработка голосовых команд: Плагин позволяет принимать голосовые команды от пользователя,
отправленные</p>
</li>
<li>
<p>через голосового помощника Amazon Alexa. Он распознает команды, анализирует их и выполняет соответствующие действия в
вашем умном доме.</p>
</li>
<li>
<p>Управление устройствами: Плагин позволяет управлять устройствами в вашем умном доме с помощью голосовых команд.</p>
</li>
<li>
<p>Например, вы можете сказать &ldquo;Alexa, включи свет в гостиной&rdquo; или &ldquo;Alexa, установи температуру на 25 градусов&rdquo;.</p>
</li>
<li>
<p>Интеграция с другими функциями системы: Плагин Amazon Alexa интегрируется с другими функциями системы <strong>Smart Home</strong>.</p>
</li>
<li>
<p>Например, вы можете использовать голосовые команды для запуска сценариев, управления автоматическими задачами или</p>
</li>
<li>
<p>получения информации о состоянии устройств.</p>
</li>
</ol>
<p>Для использования плагина Amazon Alexa в вашем проекте <strong>Smart Home</strong> требуется настройка и подключение к вашему аккаунту
Amazon Alexa. После этого вы можете настроить голосовые команды и действия для управления вашим умным домом через
голосового помощника Amazon Alexa.</p>
<p>В плагине Amazon Alexa для системы <strong>Smart Home</strong> реализованы следующие хэндлеры на языке JavaScript:</p>
<ol>
<li><code>skillOnLaunch</code>: Этот хэндлер вызывается при запуске навыка (skill) на устройстве Amazon Alexa. Он предназначен для</li>
<li>обработки начального события запуска навыка. Вы можете определить здесь логику или выполнить необходимые действия при</li>
<li>запуске навыка. Пример использования:</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#000>skillOnLaunch</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// Логика обработки события запуска навыка
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>};</span>
</code></pre></div><ol start=2>
<li><code>skillOnSessionEnd</code>: Этот хэндлер вызывается при завершении сессии с навыком. Он позволяет выполнить определенные</li>
<li>действия при окончании сеанса с пользователем. Например, вы можете сохранить состояние или выполнить завершающие
операции. Пример использования:</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#000>skillOnSessionEnd</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// Логика завершения сессии
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>};</span>
</code></pre></div><ol start=3>
<li><code>skillOnIntent</code>: Этот хэндлер вызывается при получении навыком интентов (намерений) от пользователя. Он предназначен</li>
<li>для обработки различных интентов и выполнения соответствующих действий. Вы можете определить здесь логику обработки</li>
<li>интентов и взаимодействия с вашим умным домом. Пример использования:</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#000>skillOnIntent</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// Логика обработки интентов
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>};</span>
</code></pre></div><p>Эти хэндлеры предоставляют возможность обрабатывать события запуска навыка, завершения сессии и получения интентов от
пользователя в контексте плагина Amazon Alexa. Вы можете определить свою логику и выполнить необходимые действия в
каждом из этих хэндлеров в соответствии с требованиями вашего проекта.</p>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>skillOnLaunch = </span><span style=color:#000>-&gt;</span>
<span style=color:#8f5902;font-style:italic>#print &#39;---action onLaunch---&#39;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Done</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;skillOnLaunch&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>skillOnSessionEnd = </span><span style=color:#000>-&gt;</span>
<span style=color:#8f5902;font-style:italic>#print &#39;---action onSessionEnd---&#39;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>Done</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;skillOnSessionEnd&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>skillOnIntent = </span><span style=color:#000>-&gt;</span>
<span style=color:#8f5902;font-style:italic>#print &#39;---action onIntent---&#39;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#000>state = </span><span style=color:#4e9a06>&#39;on&#39;</span>
  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>Alexa</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>slots</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;state&#39;</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#39;off&#39;</span>
    <span style=color:#000>state = </span><span style=color:#4e9a06>&#39;off&#39;</span>

  <span style=color:#000>place = </span><span style=color:#000>Alexa</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>slots</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;place&#39;</span><span style=color:#000;font-weight:700>]</span>

  <span style=color:#000>Done</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>#{</span><span style=color:#000>place</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>_</span><span style=color:#4e9a06>#{</span><span style=color:#000>state</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span><span style=color:#000;font-weight:700>)</span>

  <span style=color:#000>Alexa</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>sendMessage</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>#{</span><span style=color:#000>place</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>_</span><span style=color:#4e9a06>#{</span><span style=color:#000>state</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ef2b94f1a2a793c6662e60a76d3c9154>7 - Cgminer</h1>
<p>Расширение контроля состояния <strong>ASIC</strong> устройств</p>
<p>Доступные бренды:</p>
<ul>
<li>Bitmine Antminer</li>
</ul>
<h3 id=настройка>Настройка:</h3>
<ul>
<li>host</li>
<li>port</li>
<li>timeout</li>
<li>user</li>
<li>pass</li>
<li>manufacturer</li>
<li>model</li>
</ul>
<h3 id=команды>Команды:</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=статус>Статус</h3>
<ul>
<li>произвольный набор</li>
</ul>
</div>
<div class=td-content>
<h1 id=pg-e8459aa132552732476b3a393a8246c7>7.1 - Bitmine</h1>
<p>Работа с устройствами ASIC производителя Bitmine Antminer.</p>
<p>поддерживаемые усторойства:</p>
<ul>
<li>S9</li>
<li>S7</li>
<li>L3</li>
<li>L3</li>
<li>D3</li>
<li>T9</li>
</ul>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=miner-базовая-сущность>Miner Базовая сущность</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># константа с уникальным id устройства
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>const</span> <span style=color:#000>ENTITY_ID</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>result = </span><span style=color:#000>Miner</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>stats</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>devs</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>summary</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>pools</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>addPool</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>url</span> <span style=color:#000>string</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>version</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>enable</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>poolId</span> <span style=color:#000>int64</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>disable</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>poolId</span> <span style=color:#000>int64</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>delete</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>poolId</span> <span style=color:#000>int64</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>switchPool</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>poolId</span> <span style=color:#000>int64</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>restart</span><span style=color:#000;font-weight:700>()</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>type: Object (Result)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>stats</td>
<td>type: метод, статистика</td>
</tr>
<tr>
<td>devs</td>
<td>type: метод, статистика</td>
</tr>
<tr>
<td>summary</td>
<td>type: метод, статистика</td>
</tr>
<tr>
<td>pools</td>
<td>type: метод, список серверов</td>
</tr>
<tr>
<td>addPool</td>
<td>type: метод, добавление сервера</td>
</tr>
<tr>
<td>version</td>
<td>type: метод, версия прошивки</td>
</tr>
<tr>
<td>enable</td>
<td>type: метод, включение в работу сервера</td>
</tr>
<tr>
<td>disable</td>
<td>type: метод, включение сервера</td>
</tr>
<tr>
<td>delete</td>
<td>type: метод, удаление сервера</td>
</tr>
<tr>
<td>switchPool</td>
<td>type: метод, переключние сервера</td>
</tr>
<tr>
<td>restart</td>
<td>type: метод, мягкий перезапуск устройства</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=объект-result>объект Result</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript>  <span style=color:#000>result = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#000>error: </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000>errMessage: </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000>result: </span><span style=color:#4e9a06>&#34;&#34;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>error</td>
<td>type: boolean, признак ошибки</td>
</tr>
<tr>
<td>errMessage</td>
<td>type: string, человекопонятное описание ошибки</td>
</tr>
<tr>
<td>result</td>
<td>type: string, json объект в текстовом формате, если запрос завершился без ошибок</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=функция-entityaction>функция entityAction</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>entityId</td>
<td>type: string, id сущности отправляющего сообщение</td>
</tr>
<tr>
<td>actionName</td>
<td>type: string, название действия, без символа &lsquo;/&rsquo; в верхнем регистре</td>
</tr>
<tr>
<td>args</td>
<td>Type: map[string]any</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=объект-entitystateparams>объект EntityStateParams</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript>  <span style=color:#000>entityStateParams = </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#34;new_state&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
    <span style=color:#4e9a06>&#34;attribute_values&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{}</span>
    <span style=color:#4e9a06>&#34;settings_value&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{}</span>
    <span style=color:#4e9a06>&#34;storage_save&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>new_state</td>
<td>type: *string, наименование статуса</td>
</tr>
<tr>
<td>attribute_values</td>
<td>type: Object, новое состяние аттрибутов сущности</td>
</tr>
<tr>
<td>settings_value</td>
<td>type: Object, новое состояние настроек сущности</td>
</tr>
<tr>
<td>storage_save</td>
<td>type: boolean, признак записи нового состояния в бд</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># cgminer
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#000>ifError</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(res)-&gt;</span>
  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>res</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87>Error</span>

<span style=color:#000>checkStatus</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>-&gt;</span>
  <span style=color:#000>stats = </span><span style=color:#000>Miner</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>stats</span><span style=color:#000;font-weight:700>()</span>
  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>ifError</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>stats</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#39;new_state&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;ERROR&#39;</span>
    <span style=color:#204a87;font-weight:700>return</span>
  <span style=color:#000>p = </span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>parse</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>stats</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>)</span>
  <span style=color:#000>print</span> <span style=color:#000>p</span>

<span style=color:#000>checkSum</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>-&gt;</span>
  <span style=color:#000>summary = </span><span style=color:#000>Miner</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>summary</span><span style=color:#000;font-weight:700>()</span>
  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>ifError</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>summary</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#39;new_state&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;ERROR&#39;</span>
    <span style=color:#204a87;font-weight:700>return</span>
  <span style=color:#000>p = </span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>parse</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>summary</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>result</span><span style=color:#000;font-weight:700>)</span>
  <span style=color:#000>print</span> <span style=color:#000>p</span>

<span style=color:#000>entityAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
  <span style=color:#204a87;font-weight:700>switch</span> <span style=color:#000>actionName</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;CHECK&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>checkStatus</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;SUM&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>checkSum</span><span style=color:#000;font-weight:700>()</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2cd4f07024ce46a2072e53614567c7fb>8 - CPU</h1>
<figure>
<img src=/smart-home/cpuspeed1.png width=300>
</figure>
<p> </p>
<p> </p>
<p>В системе <strong>Smart Home</strong> присутствует плагин &ldquo;cpuspeed&rdquo;, который обеспечивает отображение параметров CPU. Плагин предоставляет
доступ к следующим параметрам:</p>
<ol>
<li>
<p><code>cores</code>: Этот параметр позволяет получить информацию о количестве ядер процессора. Он возвращает число, указывающее на
общее количество ядер CPU.</p>
</li>
<li>
<p><code>mhz</code>: Данный параметр предоставляет информацию о текущей частоте процессора. Он возвращает значение в мегагерцах (MHz)
и указывает текущую работающую частоту процессора.</p>
</li>
<li>
<p><code>all</code>: Параметр <code>all</code> предоставляет информацию о средне взвешанной загрузке процессора в процентах</p>
</li>
<li>
<p><code>load_min</code>: Этот параметр отображает минимальную нагрузку процессора за определенный период времени. Он позволяет
получить информацию о минимальной нагрузке CPU и может быть полезным для мониторинга и анализа нагрузки на процессор.</p>
</li>
<li>
<p><code>load_max</code>: Параметр <code>load_max</code> предоставляет информацию о максимальной нагрузке процессора за определенный период
времени. Он позволяет получить информацию о максимальной нагрузке CPU и может быть полезным для анализа производительности
системы.</p>
</li>
</ol>
<p>Пример использования плагина &ldquo;cpuspeed&rdquo; для получения параметров CPU:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>cpuParams</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;cpuspeed.cpuspeed&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cpuParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>cores</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cpuParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>mhz</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cpuParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>all</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cpuParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>load_min</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cpuParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>load_max</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Вы можете использовать эти параметры для отображения и мониторинга информации о CPU в вашем проекте <strong>Smart Home</strong>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d57edab1df39efff0606d11217501497>9 - HDD</h1>
<figure>
<img src=/smart-home/hdd1.png width=300>
</figure>
<p> </p>
<p> </p>
<p>В системе <strong>Smart Home</strong> присутствует плагин &ldquo;hdd&rdquo;, который обеспечивает отображение параметров жесткого диска. Этот плагин позволяет получать информацию о различных характеристиках жесткого диска. Вот некоторые из этих параметров:</p>
<ol>
<li>
<p><code>path</code>: Параметр <code>path</code> содержит путь к точке монтирования (mount point) жесткого диска.</p>
</li>
<li>
<p><code>fstype</code>: Параметр <code>fstype</code> указывает тип файловой системы, используемой на жестком диске.</p>
</li>
<li>
<p><code>total</code>: Параметр <code>total</code> отображает общий объем жесткого диска в байтах.</p>
</li>
<li>
<p><code>free</code>: Параметр <code>free</code> показывает свободное пространство на жестком диске в байтах.</p>
</li>
<li>
<p><code>used</code>: Параметр <code>used</code> указывает использованное пространство на жестком диске в байтах.</p>
</li>
<li>
<p><code>used_percent</code>: Параметр <code>used_percent</code> показывает процент использования пространства на жестком диске.</p>
</li>
<li>
<p><code>inodes_total</code>: Параметр <code>inodes_total</code> отображает общее количество инодов (inode) на жестком диске.</p>
</li>
<li>
<p><code>inodes_used</code>: Параметр <code>inodes_used</code> указывает количество использованных инодов на жестком диске.</p>
</li>
<li>
<p><code>inodes_free</code>: Параметр <code>inodes_free</code> показывает количество свободных инодов на жестком диске.</p>
</li>
<li>
<p><code>inodes_used_percent</code>: Параметр <code>inodes_used_percent</code> указывает процент использования инодов на жестком диске.</p>
</li>
</ol>
<p>Кроме того, плагин &ldquo;hdd&rdquo; имеет опцию настроек <code>mount_point</code>, которая позволяет указать точку монтирования для отображения параметров конкретного жесткого диска.</p>
<p>Пример использования плагина &ldquo;hdd&rdquo; для получения параметров жесткого диска:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>hddParams</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;hdd.hdd1&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>hddSettings</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>entity</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getSettings</span><span style=color:#000;font-weight:700>()</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddSettings</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>mount_point</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>path</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fstype</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>total</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>free</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>used</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>used_percent</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>inodes_total</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>inodes_used</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>inodes_free</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hddParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>inodes_used_percent</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Вы можете использовать эти параметры для отображения информации о жестком диске в вашем проекте <strong>Smart Home</strong>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ad72d5bfe8ed58703be4f95c5433bbbb>10 - Memory</h1>
<figure>
<img src=/smart-home/ram1.png width=300>
</figure>
<p> </p>
<p> </p>
<p>В системе <strong>Smart Home</strong> имеется плагин &ldquo;memory&rdquo;, который позволяет отображать параметры оперативной памяти (RAM). Этот плагин предоставляет доступ к следующим параметрам:</p>
<ol>
<li>
<p><code>total</code>: Параметр <code>total</code> отображает общий объем оперативной памяти системы в байтах.</p>
</li>
<li>
<p><code>free</code>: Параметр <code>free</code> указывает на свободную оперативную память в байтах.</p>
</li>
<li>
<p><code>used_percent</code>: Параметр <code>used_percent</code> показывает процент использования оперативной памяти.</p>
</li>
</ol>
<p>Пример использования плагина &ldquo;memory&rdquo; для получения параметров оперативной памяти:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>ramParams</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;memory.memory&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ramParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>total</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ramParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>free</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ramParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>used_percent</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Вы можете использовать эти параметры для отображения информации об оперативной памяти в вашем проекте <strong>Smart Home</strong>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-646b43ce7e0c9ecd76b7e1b081534840>11 - Memory app</h1>
<figure>
<img src=/smart-home/memory_app.png width=300>
</figure>
<p> </p>
<p> </p>
<p>В системе <strong>Smart Home</strong> присутствует плагин &ldquo;memory_app&rdquo;, который предоставляет отображение параметров памяти приложения.
Этот плагин позволяет получать информацию о различных характеристиках памяти приложения. Вот некоторые из этих параметров:</p>
<ol>
<li>
<p><code>alloc</code>: Параметр <code>alloc</code> отображает количество выделенной памяти для приложения в байтах. Он указывает текущее значение
выделенной памяти.</p>
</li>
<li>
<p><code>heap_alloc</code>: Параметр <code>heap_alloc</code> показывает количество выделенной кучи (heap) памяти для приложения в байтах. Это
значение указывает текущее выделение памяти в куче.</p>
</li>
<li>
<p><code>total_alloc</code>: Параметр <code>total_alloc</code> указывает общее количество выделенной памяти для приложения с момента его запуска
в байтах. Он отражает общий объем памяти, выделенный приложению.</p>
</li>
<li>
<p><code>sys</code>: Параметр <code>sys</code> показывает количество системной памяти, используемой приложением. Он указывает текущее значение
использования системной памяти.</p>
</li>
<li>
<p><code>num_gc</code>: Параметр <code>num_gc</code> отображает количество сборок мусора (garbage collection), которые произошли с момента
запуска приложения.</p>
</li>
<li>
<p><code>last_gc</code>: Параметр <code>last_gc</code> указывает время последней сборки мусора (garbage collection). Он позволяет получить
информацию о времени последней проведенной сборки мусора в приложении.</p>
</li>
</ol>
<p>Пример использования плагина &ldquo;memory_app&rdquo; для получения параметров памяти приложения:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>memoryParams</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;memory.memory&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>memoryParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>alloc</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>memoryParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>heap_alloc</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>memoryParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>total_alloc</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>memoryParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>sys</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>memoryParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>num_gc</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>memoryParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>last_gc</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Вы можете использовать эти параметры для отображения информации о памяти приложения в вашем проекте <strong>Smart Home</strong>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-95c950e340c5f9306b492b322325c66d>12 - Moon</h1>
<figure>
<img src=/smart-home/moon1.png width=300>
</figure>
<p> </p>
<p> </p>
<p>В системе <strong>Smart Home</strong> присутствует плагин &ldquo;moon&rdquo;, который позволяет отображать различные параметры, связанные с фазами луны и ее положением на небе. Этот плагин предоставляет доступ к следующим параметрам:</p>
<ol>
<li>
<p><code>horizonState</code>: Параметр <code>horizonState</code> указывает состояние луны относительно горизонта. Это может быть &ldquo;aboveHorizon&rdquo; (над горизонтом) или &ldquo;belowHorizon&rdquo; (под горизонтом).</p>
</li>
<li>
<p><code>phase</code>: Параметр <code>phase</code> отображает текущую фазу луны. Например, &ldquo;new_moon&rdquo; (новолуние), &ldquo;waxing_crescent&rdquo; (растущая полумесяц), &ldquo;first_quarter&rdquo; (первая четверть), &ldquo;waxing_gibbous&rdquo; (растущая луна), &ldquo;full_moon&rdquo; (полнолуние), &ldquo;waning_gibbous&rdquo; (убывающая луна), &ldquo;third_quarter&rdquo; (третья четверть), &ldquo;waning_crescent&rdquo; (убывающая полумесяц).</p>
</li>
<li>
<p><code>azimuth</code>: Параметр <code>azimuth</code> указывает азимутное положение луны в градусах.</p>
</li>
<li>
<p><code>elevation</code>: Параметр <code>elevation</code> отображает угол возвышения луны над горизонтом.</p>
</li>
<li>
<p><code>aboveHorizon</code>: Параметр <code>aboveHorizon</code> указывает, находится ли луна над горизонтом (true/false).</p>
</li>
<li>
<p><code>belowHorizon</code>: Параметр <code>belowHorizon</code> указывает, находится ли луна под горизонтом (true/false).</p>
</li>
</ol>
<p>Кроме того, плагин &ldquo;moon&rdquo; имеет настройки <code>lat</code> и <code>lon</code>, которые позволяют указать широту и долготу для определения положения луны на небе.</p>
<p>Пример использования плагина &ldquo;moon&rdquo; для получения параметров луны:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>moonParams</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;moon.moon1&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>moonParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>horizonState</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>moonParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>phase</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>moonParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>azimuth</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>moonParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>elevation</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>moonParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>aboveHorizon</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>moonParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>belowHorizon</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Вы можете использовать эти параметры для отображения информации о луне в вашем проекте <strong>Smart Home</strong>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-75a67472ccb2a758f48c263d48be08d3>13 - MQTT</h1>
<p>Плагин &ldquo;mqtt&rdquo; является расширенной версией плагина &ldquo;sensor&rdquo; и предоставляет возможность работы с протоколом MQTT.
Вот некоторые настройки, доступные для плагина &ldquo;mqtt&rdquo;:</p>
<ol>
<li><code>subscribe_topic</code>: Топик MQTT, на который выполняется подписка для получения данных.</li>
<li><code>mqtt_login</code>: Логин для аутентификации при подключении к MQTT-брокеру.</li>
<li><code>mqtt_pass</code>: Пароль для аутентификации при подключении к MQTT-брокеру.</li>
</ol>
<p>Эти настройки позволяют задать параметры подключения к MQTT-брокеру и определить топик, на который будет выполняться подписка
для получения данных. Таким образом, плагин &ldquo;mqtt&rdquo; обеспечивает интеграцию с MQTT-сообщениями, что позволяет получать данные
с устройств, использующих этот протокол, и использовать их в системе автоматизации или других компонентах.</p>
<p>Плагин &ldquo;sensor&rdquo; также реализует JavaScript-обработчик (handler) под названием <code>entityAction</code>. Этот обработчик предназначен
для обработки действий, связанных с устройствами типа &ldquo;entity&rdquo; на основе плагина &ldquo;sensor&rdquo;.</p>
<p>Пример реализации обработчика <code>entityAction</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#000>entityAction</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>entityId</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>actionName</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#8f5902;font-style:italic>// Код обработки действия
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>};</span>
</code></pre></div><p>Также реализует JavaScript-обработчик (handler) под названием <code>mqttEvent</code>. Этот обработчик предназначен
для обработки действий, связанных с устройствами типа &ldquo;entity&rdquo; на основе плагина &ldquo;sensor&rdquo;.</p>
<p>Пример реализации обработчика <code>mqttEvent</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>mqttEvent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#8f5902;font-style:italic>// Код обработки действия
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>};</span>
</code></pre></div><p>Пример использования обработчика mqttEvent:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>mqttEvent</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(message)-&gt;</span>
  <span style=color:#8f5902;font-style:italic>#print &#39;---mqtt new event from plug---&#39;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>message</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>topic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>includes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;/set&#39;</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#204a87;font-weight:700>return</span>
  <span style=color:#000>payload = </span><span style=color:#000>unmarshal</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>payload</span>
  <span style=color:#000>attrs =
</span><span style=color:#000></span>    <span style=color:#4e9a06>&#39;consumption&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>consumption</span>
    <span style=color:#4e9a06>&#39;linkquality&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>linkquality</span>
    <span style=color:#4e9a06>&#39;power&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>power</span>
    <span style=color:#4e9a06>&#39;state&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>state</span>
    <span style=color:#4e9a06>&#39;temperature&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>temperature</span>
    <span style=color:#4e9a06>&#39;voltage&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>voltage</span>
  <span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;new_state&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>state</span>
    <span style=color:#4e9a06>&#39;attribute_values&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>attrs</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-98e5f3c64adb1e62039387bca695fb54>14 - Node</h1>
<p>Плагин Node разработан для интеграции внешних агентов Node, обеспечивая возможность работы с Modbus-устройствами на удаленных серверах в сети или из других подсетей. Этот плагин упрощает подключение и взаимодействие с удаленными Modbus-агентами, расширяя функциональность системы Smart Home.</p>
<h4 id=свойства-устройства>Свойства устройства</h4>
<ul>
<li>
<p><strong><code>thread</code> (тип: Int)</strong>: Идентификатор потока, в котором работает агент Node.</p>
</li>
<li>
<p><strong><code>rps</code> (тип: Int)</strong>: Количество запросов в секунду (Requests Per Second), обрабатываемых агентом.</p>
</li>
<li>
<p><strong><code>min</code> (тип: Int)</strong>: Минимальное время ответа от агента в миллисекундах.</p>
</li>
<li>
<p><strong><code>max</code> (тип: Int)</strong>: Максимальное время ответа от агента в миллисекундах.</p>
</li>
<li>
<p><strong><code>latency</code> (тип: Int)</strong>: Задержка между запросом и ответом от агента в миллисекундах.</p>
</li>
<li>
<p><strong><code>startedAt</code> (тип: Time)</strong>: Время запуска агента Node.</p>
</li>
</ul>
<h4 id=настройки-устройства>Настройки устройства</h4>
<ul>
<li>
<p><strong><code>node_login</code> (тип: String)</strong>: Логин для аутентификации на агенте Node.</p>
</li>
<li>
<p><strong><code>node_pass</code> (тип: String)</strong>: Пароль для аутентификации на агенте Node.</p>
</li>
</ul>
<h4 id=статусы-устройства>Статусы устройства</h4>
<ul>
<li>
<p><strong><code>wait</code> (тип: String)</strong>: Агент ожидает подключения и запросов от системы Smart Home.</p>
</li>
<li>
<p><strong><code>connected</code> (тип: String)</strong>: Установлено успешное соединение с агентом Node.</p>
</li>
<li>
<p><strong><code>error</code> (тип: String)</strong>: Произошла ошибка при взаимодействии с агентом Node.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-25150d443099ad5064f1a3a39214945d>15 - Отправка сообщений</h1>
<p>В системе есть плагин под названием «notifr», который предоставляет возможности уведомлений. Он поддерживает методы отправки уведомлений по различным каналам, включая SMS, push-уведомления, электронную почту, Telegram и уведомления HTML5.</p>
<p>Вот поддерживаемые методы уведомления, предоставляемые плагином notifr:</p>
<p>SMS: позволяет отправлять SMS-уведомления.
Push: позволяет отправлять push-уведомления на мобильные устройства.
Электронная почта: поддерживает отправку уведомлений по электронной почте.
Telegram: Предоставляет возможность отправлять уведомления через мессенджер Telegram.
Уведомления HTML5: позволяет отображать уведомления с использованием возможностей HTML5.</p>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=новое-сообщение>Новое сообщение</h3>
<p>создает объект сообщения</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript>  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>newMessage()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object <a href=#%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82-message>Message</a></td>
</tr>
</tbody>
</table>
<hr>
<h3 id=отправка-сообщения>отправка сообщения</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript>  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>send()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object (Message)</td>
</tr>
</tbody>
</table>
<h3 id=объект-message>объект Message</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript>  <span style=color:#000>message = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#000>from: </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000>type: </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#000>attributes: </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#34;key&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vlue&#34;</span>
  <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>from</td>
<td>type: string</td>
</tr>
<tr>
<td>type</td>
<td>type: string</td>
</tr>
<tr>
<td>entity_id</td>
<td>type: string</td>
</tr>
<tr>
<td>attributes</td>
<td>type: map[string]string</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c757c4a3128c020469fa7e844a0b07d1>15.1 - EMAIL</h1>
<p>Плагин Email предоставляет возможность интегрировать функциональность отправки электронных сообщений в систему Smart Home. Этот плагин позволяет пользователям настраивать параметры электронной почты и отправлять уведомления или сообщения с устройств в рамках умного дома.</p>
<h4 id=настройки-устройства>Настройки устройства</h4>
<ul>
<li>
<p><strong><code>email</code> (тип: String)</strong>: Электронная почта, через которую осуществляется отправка сообщений.</p>
</li>
<li>
<p><strong><code>auth</code> (тип: String)</strong>: Метод аутентификации для доступа к почтовому серверу (например, &ldquo;PLAIN&rdquo; или &ldquo;LOGIN&rdquo;).</p>
</li>
<li>
<p><strong><code>pass</code> (тип: Encrypted)</strong>: Зашифрованный пароль для аутентификации при доступе к почтовому серверу.</p>
</li>
<li>
<p><strong><code>smtp</code> (тип: String)</strong>: Адрес сервера исходящей почты (SMTP).</p>
</li>
<li>
<p><strong><code>port</code> (тип: Int)</strong>: Порт сервера исходящей почты (например, 587 для TLS или 465 для SSL).</p>
</li>
<li>
<p><strong><code>sender</code> (тип: String)</strong>: Адрес отправителя электронного сообщения.</p>
</li>
</ul>
<h4 id=атрибуты-сообщения>Атрибуты сообщения</h4>
<ul>
<li>
<p><strong><code>addresses</code> (тип: String)</strong>: Список адресов электронной почты получателей, разделенных запятыми.</p>
</li>
<li>
<p><strong><code>subject</code> (тип: String)</strong>: Тема электронного сообщения.</p>
</li>
<li>
<p><strong><code>body</code> (тип: String)</strong>: Текст тела электронного сообщения.</p>
</li>
</ul>
<h4 id=пример-на-coffeescript>Пример на Coffeescript</h4>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;email.google&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text msg&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;addresses&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;john.smith@example.com,john.smith@example.com&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;subject&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;john.smith@example.com&#39;</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#000;font-weight:700>};</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-db0e74844d4ec70b97b7eed2dcaa6fde>15.2 - Push уведомления</h1>
<p>Web push — это короткие сообщения, которые smart home отправляет в браузер, чтобы сообщить о какой-либо важной информации. Они показываются даже тем, кто ушел с сайта, и не требуют указания почты или телефона.</p>
<h3 id=настройка>Настройка</h3>
<ul>
<li>public key</li>
<li>private key</li>
</ul>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>userIDS</li>
<li>title</li>
<li>body</li>
</ul>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=новое-сообщение>Новое сообщение</h3>
<p>создает объект сообщения</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>msg.type = </span><span style=color:#4e9a06>&#39;webpush&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#4e9a06>&#39;userIDS&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;14&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;title&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum&#39;</span>
<span style=color:#000;font-weight:700>};</span>

</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>newMessage()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object (Message)</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># webpush
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>sendMsg</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>()-&gt;</span>
  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
  <span style=color:#000>msg.type = </span><span style=color:#4e9a06>&#39;webpush&#39;</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#39;userIDS&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;14&#39;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;title&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply&#39;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum&#39;</span>
  <span style=color:#000;font-weight:700>};</span>
  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>

<span style=color:#000>sendMsg</span><span style=color:#000;font-weight:700>()</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b9e7dc050746e93f66a3fcdc54072720>15.3 - HTML5 Уведомления</h1>
<p>HTML5 уведомление - это способ показать пользователю информацию на веб-странице без перезагрузки или перехода на другую страницу. Уведомления могут содержать текст, изображения, звук или видео и появляются в правом нижнем углу экрана. Уведомления на HTML5 используют API, который позволяет веб-приложениям отправлять уведомления браузеру с помощью JavaScript</p>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>userIDS</li>
<li>title</li>
<li>body</li>
</ul>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=новое-сообщение>Новое сообщение</h3>
<p>создает объект сообщения</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>msg.type = </span><span style=color:#4e9a06>&#39;html5_notify&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#4e9a06>&#39;userIDS&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;14&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;title&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum&#39;</span>
<span style=color:#000;font-weight:700>};</span>

</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>newMessage()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object (Message)</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># html5_notify
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#000>sendMsg</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>()-&gt;</span>
  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
  <span style=color:#000>msg.type = </span><span style=color:#4e9a06>&#39;html5_notify&#39;</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#39;userIDS&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;14&#39;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;title&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply&#39;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum&#39;</span>
  <span style=color:#000;font-weight:700>};</span>
  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>

<span style=color:#000>sendMsg</span><span style=color:#000;font-weight:700>()</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ffcf992bf86dcf75fc98ea391689be36>15.4 - Messagebird</h1>
<p>Отправка sms уведомлений через провайдера услуг оповещения <a href=https://messagebird.com>messagebird</a>. Для возможности
отправки сообщений потребуется регистрация в <a href=https://messagebird.com>messagebird</a>, и положительный баланс.</p>
<h3 id=настройка>Настройка</h3>
<ul>
<li>Access Key</li>
<li>Name</li>
</ul>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>Payment</li>
<li>Type</li>
<li>Amount</li>
</ul>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=новое-сообщение>Новое сообщение</h3>
<p>создает объект сообщения</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;messagebird.name&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#4e9a06>&#39;phone&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;+79990000001&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text&#39;</span>
<span style=color:#000;font-weight:700>};</span>

</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>newMessage()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object (Message)</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># messagebird
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#000>sendMsg</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(body)-&gt;</span>
  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
  <span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;messagebird.name&#39;</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#39;phone&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;+79990000001&#39;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text&#39;</span>
  <span style=color:#000;font-weight:700>};</span>
  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ae8769291a804111fe0f11577b37bb14>15.5 - Slack</h1>
<p>Отправка уведомлений в чат slack</p>
<h3 id=настройка>Настройка</h3>
<ul>
<li>Token</li>
<li>User name</li>
</ul>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=новое-сообщение>Новое сообщение</h3>
<p>создает объект сообщения</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;slack.name&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#4e9a06>&#39;channel&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;#ch&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;text&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text&#39;</span>
<span style=color:#000;font-weight:700>};</span>

</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>newMessage()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object (Message)</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># slack
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#000>sendMsg</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(body)-&gt;</span>
  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
    <span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;slack.name&#39;</span><span style=color:#000;font-weight:700>;</span>
    <span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
      <span style=color:#4e9a06>&#39;channel&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;#ch&#39;</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#39;text&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text&#39;</span>
  <span style=color:#000;font-weight:700>};</span>
  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3474b889257fbfc72d90e2b2883e468a>15.6 - Telegram</h1>
<p>Позволяет работать с telegram api, обеспечивая интерактивную обработку комманд от клиентов либо использовать
событийное оповещение. Система не имеет ограничение на количество ботов, один entity - один бот.</p>
<h3 id=настройка>Настройка</h3>
<ul>
<li>Token</li>
</ul>
<h3 id=команды>Команды:</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>произвольный набор</li>
</ul>
<h3 id=действия>Действия</h3>
<p>В системе зарезервированно две команды:</p>
<ul>
<li><strong>/start</strong> - подписаться на уведомления</li>
<li><strong>/quit</strong> - отписаться от уведомлений</li>
</ul>
<p><strong>Action</strong> (действие) - должно наименоваться в нижнем регистре, без знаков &ldquo;/&rdquo;.
Кастомная команда в системе автоматически добавится в список доступных команд раздела <strong>/help</strong>.
Вызов кастомной команды с клиента следует производить в верхнем регистре <strong>/ACTION</strong> -> <strong>/action</strong></p>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=новое-сообщение>Новое сообщение</h3>
<p>создает объект сообщения</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;telegram.name&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text msg&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;chat_id&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>123456</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;keys&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;foo&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;bar&#39;</span><span style=color:#000;font-weight:700>],</span>
  <span style=color:#4e9a06>&#39;photo_uri&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;foo&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;bar&#39;</span><span style=color:#000;font-weight:700>],</span>
  <span style=color:#4e9a06>&#39;photo_path&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;foo&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;bar&#39;</span><span style=color:#000;font-weight:700>],</span>
  <span style=color:#4e9a06>&#39;file_path&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;foo&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;bar&#39;</span><span style=color:#000;font-weight:700>],</span>
  <span style=color:#4e9a06>&#39;file_uri&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;foo&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;bar&#39;</span><span style=color:#000;font-weight:700>]</span>
<span style=color:#000;font-weight:700>};</span>

</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>newMessage()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object (Message)</td>
</tr>
</tbody>
</table>
<p>attributes:</p>
<table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>body</td>
<td>Type: string, тело сообщения</td>
</tr>
<tr>
<td>chat_id</td>
<td>Type: int64, id пользователя</td>
</tr>
<tr>
<td>keys</td>
<td>Type: []string, клавиатура</td>
</tr>
<tr>
<td>photo_uri</td>
<td>Type: []string, изображение</td>
</tr>
<tr>
<td>photo_path</td>
<td>Type: []string, изображение</td>
</tr>
<tr>
<td>file_path</td>
<td>Type: []string, файл</td>
</tr>
<tr>
<td>file_uri</td>
<td>Type: []string, файл</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=функция-telegramaction>функция telegramAction</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>telegramAction = </span><span style=color:#000>(entityId, actionName, args)-&gt;</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>entityId</td>
<td>type: string, id сущности отправляющего сообщение</td>
</tr>
<tr>
<td>actionName</td>
<td>type: string, название действия, без символа &lsquo;/&rsquo; в верхнем регистре</td>
</tr>
<tr>
<td>args</td>
<td>attributes</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># telegram
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>telegramSendReport</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>-&gt;</span>
  <span style=color:#000>entities = </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;device.l3n1&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#39;device.l3n2&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#39;device.l3n3&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#39;device.l3n4&#39;</span><span style=color:#000;font-weight:700>]</span>
  <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>entityId</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>entities</span>
    <span style=color:#000>entity = </span><span style=color:#000>GetEntity</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>entityId</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000>attr = </span><span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>entityId</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000>sendMsg</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>format</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>entityId</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>entity</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>state</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>name</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>attr</span><span style=color:#000;font-weight:700>))</span>
  
<span style=color:#000>telegramAction = </span><span style=color:#000>(entityId, actionName)-&gt;</span>
<span style=color:#204a87;font-weight:700>switch</span> <span style=color:#000>actionName</span>
    <span style=color:#204a87;font-weight:700>when</span> <span style=color:#4e9a06>&#39;CHECK&#39;</span> <span style=color:#204a87;font-weight:700>then</span> <span style=color:#000>telegramSendReport</span><span style=color:#000;font-weight:700>()</span>

<span style=color:#000>sendMsg</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(body)-&gt;</span>
  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
  <span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;telegram.testbot&#39;</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>body</span>
  <span style=color:#000;font-weight:700>};</span>
  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8d473157f65e8e52157febb9c1671a23>15.7 - Twilio</h1>
<p>Отправка sms уведомлений через провайдера услуг оповещения <a href=https://www.twilio.com/messaging>twilio</a>. Для возможности
отправки сообщений потребуется регистрация в <a href=https://www.twilio.com/messaging>twilio</a>, и положительный баланс.</p>
<h3 id=настройка>Настройка</h3>
<ul>
<li>Token</li>
<li>Sid</li>
<li>From</li>
</ul>
<h3 id=атрибуты>Атрибуты</h3>
<ul>
<li>Amount</li>
<li>Sid</li>
<li>Currency</li>
</ul>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=новое-сообщение>Новое сообщение</h3>
<p>создает объект сообщения</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
<span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;twilio.name&#39;</span><span style=color:#000;font-weight:700>;</span>
<span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
  <span style=color:#4e9a06>&#39;phone&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;+79990000001&#39;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text&#39;</span>
<span style=color:#000;font-weight:700>};</span>

</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>newMessage()</td>
<td>метод</td>
</tr>
<tr>
<td>msg</td>
<td>type: Object (Message)</td>
</tr>
</tbody>
</table>
<hr>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># twilio
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#000>sendMsg</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(body)-&gt;</span>
  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
  <span style=color:#000>msg.entity_id = </span><span style=color:#4e9a06>&#39;twilio.name&#39;</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#39;phone&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;+79990000001&#39;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;some text&#39;</span>
  <span style=color:#000;font-weight:700>};</span>
  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-56027f5b7f86e356eca9778287b4e9b7>15.8 - Шаблон сообщения</h1>
<p><strong>Template</strong> (Шаблон) - инструмент для заполнения и рассылки готовых сообщений.</p>
<p>преимущества:</p>
<ul>
<li>чистый код</li>
<li>разные шаблоны для разных типов</li>
<li>удобный вызов</li>
</ul>
<h3 id=javascript-свойства>javascript свойства</h3>
<hr>
<h3 id=генерация-сообщения-из-шаблона>Генерация сообщения из шаблона</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript>  <span style=color:#000>tpl = </span><span style=color:#000>template</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>render</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>name</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>params</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><table>
<thead>
<tr>
<th>значение</th>
<th>описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>type: string, название шаблона</td>
</tr>
<tr>
<td>params</td>
<td>type: Object, параметры шаблона, пример: {&lsquo;key&rsquo;:&lsquo;val&rsquo;}</td>
</tr>
<tr>
<td>tpl</td>
<td>type: string, сгенерированное сообщение, готовое к отправке</td>
</tr>
</tbody>
</table>
<h3 id=пример-кода>пример кода</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#8f5902;font-style:italic># telegram
</span><span style=color:#8f5902;font-style:italic># ##################################
</span><span style=color:#8f5902;font-style:italic></span>

<span style=color:#000>sendMsg</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(body)-&gt;</span>
  <span style=color:#000>tpl = </span><span style=color:#000>template</span>
    <span style=color:#000;font-weight:700>.</span><span style=color:#000>render</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;key&#39;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#39;val&#39;</span><span style=color:#000;font-weight:700>})</span>
  
  <span style=color:#000>msg = </span><span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>newMessage</span><span style=color:#000;font-weight:700>();</span>
  <span style=color:#000>msg.type = </span><span style=color:#4e9a06>&#39;telegram&#39;</span><span style=color:#000;font-weight:700>;</span>
  <span style=color:#000>msg.attributes = </span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#39;clavicus&#39;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;body&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>tpl</span>
  <span style=color:#000;font-weight:700>};</span>
  <span style=color:#000>notifr</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>msg</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c611e1f9047c1d78be304f536e42a8a9>16 - Scene</h1>
<p>Плагин Scene в системе Smart Home предоставляет мощный инструмент для создания и управления сценариями автоматизации. Этот плагин не имеет конкретных параметров, но позволяет пользователям комбинировать различные действия и состояния устройств, создавая интеллектуальные сценарии для различных событий и потребностей.</p>
<h4 id=преимущества-использования-плагина-scene>Преимущества использования плагина Scene</h4>
<ol>
<li>
<p><strong>Гибкость настройки:</strong> Пользователи могут создавать сценарии, учитывающие различные условия и предпочтения, чтобы оптимизировать окружение в доме.</p>
</li>
<li>
<p><strong>Интеграция с устройствами:</strong> Плагин Scene позволяет объединять различные устройства (освещение, термостаты, аудиосистемы) для совместного воздействия и создания гармоничных сценариев.</p>
</li>
<li>
<p><strong>Управление временем:</strong> Сценарии можно автоматизировать, чтобы активироваться в определенное время суток, что делает их удобными для ежедневных рутинных действий.</p>
</li>
</ol>
<h4 id=примеры-использования-плагина-scene>Примеры использования плагина Scene</h4>
<ol>
<li>
<p><strong>&ldquo;Добро утро&rdquo; сценарий:</strong></p>
<ul>
<li><strong>Описание:</strong> Активируется каждое утро для комфортного пробуждения.</li>
<li><strong>Действия:</strong>
<ul>
<li>Включить свет в спальне на 50% яркости.</li>
<li>Запустить утреннюю музыку в гостиной.</li>
<li>Установить температуру термостата на оптимальный уровень.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>&ldquo;Вечерний режим&rdquo; сценарий:</strong></p>
<ul>
<li><strong>Описание:</strong> Автоматически настраивает дом для уюта перед сном.</li>
<li><strong>Действия:</strong>
<ul>
<li>Затемнить освещение в гостиной и спальне.</li>
<li>Включить мягкий свет в коридоре и кухне.</li>
<li>Установить термостат на комфортную температуру.</li>
<li>Запустить фоновую музыку для релаксации.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id=интеграция-с-другими-плагинами>Интеграция с другими плагинами</h4>
<p>Плагин Scene легко интегрируется с другими компонентами системы Smart Home, позволяя создавать более сложные и интеллектуальные сценарии.</p>
<p>Эти возможности делают плагин Scene неотъемлемой частью системы автоматизации Smart Home, обеспечивая пользователей удобством и интеллектуальными функциями в их повседневной жизни.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0a07d6aae278970d2834de3c5c8ba6fd>17 - Sensor</h1>
<p>Этот плагин &ldquo;sensor&rdquo; позволяет создавать и управлять различными типами датчиков, которые могут измерять и отслеживать
различные параметры окружающей среды, например температуру, влажность, освещенность и другие физические величины.</p>
<p>Создание абстрактного устройства на основе плагина &ldquo;sensor&rdquo; позволяет упростить процесс интеграции различных датчиков в
систему умного дома. Это предоставляет единый интерфейс для работы с разными типами датчиков и позволяет легко получать
данные от них, устанавливать их состояние и настраивать параметры работы.</p>
<p>Благодаря гибкости и универсальности плагина &ldquo;sensor&rdquo;, он подходит для большинства случаев использования, где требуется
работа с датчиками и получение данных о состоянии окружающей среды.</p>
<p>Плагин &ldquo;sensor&rdquo; также реализует JavaScript-обработчик (handler) под названием <code>entityAction</code>. Этот обработчик предназначен
для обработки действий, связанных с устройствами типа &ldquo;entity&rdquo; на основе плагина &ldquo;sensor&rdquo;.</p>
<p>Пример реализации обработчика <code>entityAction</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#000>entityAction</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>entityId</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>actionName</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>{</span>
  <span style=color:#8f5902;font-style:italic>// Код обработки действия
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>};</span>
</code></pre></div><p>В этом примере обработчик <code>entityAction</code> принимает два параметра: <code>entityId</code>, представляющий идентификатор устройства типа
&ldquo;entity&rdquo;, и <code>actionName</code>, представляющий имя действия, которое требуется выполнить.</p>
<p>Обработчик <code>entityAction</code> позволяет выполнять необходимую логику в ответ на действия, связанные с устройствами типа &ldquo;entity&rdquo;.
Внутри обработчика можно обращаться к функциям и методам плагина &ldquo;sensor&rdquo; для выполнения определенных операций, обновления
состояния устройств или взаимодействия с другими компонентами системы умного дома.</p>
<p>Пример использования обработчика <code>entityAction</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#000>EntityCallAction</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;sensor.sensor123&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;turnOn&#39;</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>В этом примере вызывается обработчик <code>entityAction</code> с идентификатором устройства &ldquo;sensor123&rdquo; и именем действия &ldquo;turnOn&rdquo;.
Внутри обработчика можно определить логику, связанную с выполнением требуемого действия для указанного устройства.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-07071769f18bcd958fb6807bfc051634>18 - Sun</h1>
<figure>
<img src=/smart-home/sun1.png width=300>
</figure>
<p> </p>
<p> </p>
<p>Плагин &ldquo;sun&rdquo; позволяет получать информацию о текущем положении и времени солнца на заданных координатах (широта и долгота).
Он предоставляет различные параметры, связанные с положением солнца в течение дня, а также время восхода, заката, сумерек и
другие моменты. Состояние плагина может указывать, находится ли солнце над горизонтом или под ним.</p>
<p>Параметры:</p>
<ol>
<li><code>horizonState</code>: Состояние горизонта</li>
<li><code>phase</code>: Фаза солнца</li>
<li><code>azimuth</code>: Азимут солнца</li>
<li><code>elevation</code>: Высота солнца над горизонтом</li>
<li><code>sunrise</code>: Время восхода солнца</li>
<li><code>sunset</code>: Время заката солнца</li>
<li><code>sunriseEnd</code>: Время окончания восхода солнца</li>
<li><code>sunsetStart</code>: Время начала заката солнца</li>
<li><code>dawn</code>: Время рассвета</li>
<li><code>dusk</code>: Время сумерек</li>
<li><code>nauticalDawn</code>: Время навигационного рассвета</li>
<li><code>nauticalDusk</code>: Время навигационных сумерек</li>
<li><code>nightEnd</code>: Время окончания ночи</li>
<li><code>night</code>: Время ночи</li>
<li><code>goldenHourEnd</code>: Время окончания золотого часа</li>
<li><code>goldenHour</code>: Золотой час</li>
<li><code>solarNoon</code>: Солнечный полдень</li>
<li><code>nadir</code>: Надир (наименьшая высота солнца над горизонтом)</li>
</ol>
<p>Настройки:</p>
<ol>
<li><code>lat</code>: Широта (географическая широта)</li>
<li><code>lon</code>: Долгота (географическая долгота)</li>
</ol>
<p>Состояния:</p>
<ol>
<li><code>aboveHorizon</code>: Солнце находится над горизонтом</li>
<li><code>belowHorizon</code>: Солнце находится под горизонтом</li>
</ol>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e2fff1dd07e3240d15c8fe3dda77a94e>19 - Triggers</h1>
<p>Плагин &ldquo;trigger&rdquo; является частью системы автоматизации и предоставляет различные типы триггеров, которые запускают
определенные сценарии в ответ на определенные события.</p>
<p>Смотрите раздел automation</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4183e9971a270328fbc64107268e1231>20 - Updater</h1>
<p>Плагин &ldquo;updated&rdquo; позволяет системе проверять наличие обновлений и предоставлять информацию о самой свежей версии.
Это полезно для пользователей, которые хотят быть в курсе последних обновлений и внедрять новые функции или исправления ошибок.
Он отображает следующие параметры:</p>
<ol>
<li><code>latest_version</code>: Номер последней доступной версии системы <strong>Smart Home</strong>.</li>
<li><code>latest_version_time</code>: Дата и время выпуска последней версии.</li>
<li><code>latest_download_url</code>: URL-адрес, по которому можно скачать последнюю версию системы.</li>
<li><code>last_check</code>: Дата и время последней проверки наличия обновлений.</li>
</ol>
<p>Пример использования плагина &ldquo;updated&rdquo;:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>updateInfo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;updater.updater&#39;</span><span style=color:#000;font-weight:700>)</span>

<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Latest version:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>updateInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>latest_version</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Latest version time:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>updateInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>latest_version_time</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Latest download URL:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>updateInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>latest_download_url</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Last check:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>updateInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>last_check</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d3da1ca7f3ff8128df9b7a16dfe42fe6>21 - Uptime</h1>
<figure>
<img src=/smart-home/uptime1.png width=300>
</figure>
<p> </p>
<p> </p>
<p>В системе <strong>Smart Home</strong> присутствует плагин &ldquo;uptime&rdquo;, который позволяет отображать параметры времени работы системы и приложения. Этот плагин предоставляет доступ к следующим параметрам:</p>
<ol>
<li>
<p><code>total</code>: Параметр <code>total</code> отображает общее время работы системы или приложения. Он указывает на количество времени, прошедшее с момента запуска.</p>
</li>
<li>
<p><code>app_started</code>: Параметр <code>app_started</code> указывает на время запуска приложения. Он показывает дату и время, когда приложение было запущено или перезапущено.</p>
</li>
</ol>
<p>Пример использования плагина &ldquo;uptime&rdquo; для получения параметров времени работы:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>uptimeParams</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;uptime.uptime&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>uptimeParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>total</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>uptimeParams</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>app_started</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Вы можете использовать эти параметры для отображения информации о времени работы системы или приложения в вашем проекте <strong>Smart Home</strong>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-50e5123a4407c924b74ee84b77d3efbf>22 - Version</h1>
<p>Плагин &ldquo;version&rdquo; в системе предоставляет информацию о версии и сборке проекта. Он отображает следующие параметры:</p>
<ol>
<li><code>version</code>: Версия проекта.</li>
<li><code>revision</code>: Идентификатор ревизии (commit) в системе контроля версий.</li>
<li><code>revision_url</code>: URL-адрес, по которому можно просмотреть детали ревизии.</li>
<li><code>generated</code>: Дата и время генерации сборки проекта.</li>
<li><code>developers</code>: Список разработчиков, вовлеченных в проект.</li>
<li><code>build_num</code>: Номер сборки проекта.</li>
<li><code>docker_image</code>: Название Docker-образа, связанного с проектом.</li>
<li><code>go_version</code>: Версия языка программирования Go, используемого для разработки проекта.</li>
</ol>
<p>Плагин &ldquo;version&rdquo; предоставляет доступ к этой информации, что полезно для отслеживания версий и контроля процесса разработки.</p>
<p>Пример использования плагина &ldquo;version&rdquo;:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>versionInfo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;version.version&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Project version:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>version</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Revision:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>revision</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Revision URL:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>revision_url</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Generated:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>generated</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Developers:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>developers</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Build number:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>build_num</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Docker image:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>docker_image</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Go version:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>versionInfo</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>go_version</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Этот плагин позволяет получить актуальную информацию о версии проекта и использовать ее для различных целей, таких как отображение версии в пользовательском интерфейсе или логирование.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-64ab3664ef92bf81dcd376de6083e938>23 - Weather</h1>
<figure>
<img src=/smart-home/weather1.png width=300>
</figure>
<p> </p>
<p> </p>
<p>В системе <strong>Smart Home</strong> присутствует базовый плагин &ldquo;weather&rdquo;, который предоставляет основу для реализации погодных плагинов.
Этот плагин обеспечивает доступ к информации о погоде, позволяя создавать и интегрировать специфичные погодные плагины для различных источников данных.</p>
<p>Плагин &ldquo;weather&rdquo; включает список состояний погоды, которые могут быть использованы для отображения текущих условий погоды.
Вот список состояний погоды, которые поддерживаются плагином &ldquo;weather&rdquo;:</p>
<ol>
<li><code>clearSky</code>: Чистое небо.</li>
<li><code>fair</code>: Ясно.</li>
<li><code>partlyCloudy</code>: Частичная облачность.</li>
<li><code>cloudy</code>: Облачно.</li>
<li><code>lightRainShowers</code>: Небольшие кратковременные дожди.</li>
<li><code>rainShowers</code>: Кратковременные дожди.</li>
<li><code>heavyRainShowers</code>: Сильные кратковременные дожди.</li>
<li><code>lightRainShowersAndThunder</code>: Небольшие кратковременные дожди и гроза.</li>
<li><code>rainShowersAndThunder</code>: Кратковременные дожди и гроза.</li>
<li><code>heavyRainShowersAndThunder</code>: Сильные кратковременные дожди и гроза.</li>
<li><code>lightSleetShowers</code>: Небольшие кратковременные метель и дождь.</li>
<li><code>sleetShowers</code>: Кратковременные метель и дождь.</li>
<li><code>heavySleetShowers</code>: Сильные кратковременные метель и дождь.</li>
<li><code>lightSleetShowersAndThunder</code>: Небольшие кратковременные метель, дождь и гроза.</li>
<li><code>sleetShowersAndThunder</code>: Кратковременные метель, дождь и гроза.</li>
<li><code>heavySleetShowersAndThunder</code>: Сильные кратковременные метель, дождь и гроза.</li>
<li><code>lightSnowShowers</code>: Небольшие кратковременные снегопады.</li>
<li><code>snowShowers</code>: Кратковременные снегопады.</li>
<li><code>heavySnowShowers</code>: Сильные кратковременные снегопады.</li>
<li><code>lightSnowShowersAndThunder</code>: Небольшие кратковременные снегопады и гроза.</li>
<li><code>snowShowersAndThunder</code>: Кратковременные снегопады и гроза.</li>
<li><code>heavySnowShowersAndThunder</code>: Сильные кратковременные снегопады и гроза.</li>
<li><code>lightRain</code>: Небольшой дождь.</li>
<li><code>rain</code>: Дождь.</li>
<li><code>heavyRain</code>: Сильный дождь.</li>
<li><code>lightRainAndThunder</code>: Небольшой дождь и гроза.</li>
<li><code>rainAndThunder</code>: Дождь и гроза.</li>
<li><code>heavyRainAndThunder</code>: Сильный дождь и гроза.</li>
<li><code>lightSleet</code>: Небольшая метель и дождь.</li>
<li><code>sleet</code>: Метель и дождь.</li>
<li><code>heavySleet</code>: Сильная метель и дож</li>
</ol>
<p>Плагин &ldquo;weather&rdquo; имеет базовые настройки, которые позволяют настроить его поведение и отображение погодной информации.
Вот описание базовых настроек плагина &ldquo;weather&rdquo;:</p>
<ol>
<li>
<p><code>lat</code>: Широта (latitude) - числовое значение, указывающее географическую широту местоположения для получения погодных
данных. Задание правильной широты позволяет получить актуальную погоду для указанного региона.</p>
</li>
<li>
<p><code>lon</code>: Долгота (longitude) - числовое значение, указывающее географическую долготу местоположения для получения погодных данных.
Задание правильной долготы помогает получить актуальную погоду для указанного региона.</p>
</li>
<li>
<p><code>theme</code>: Тема (theme) - параметр, определяющий внешний вид и стиль отображения погодных данных. Возможные значения
могут варьироваться в зависимости от реализации плагина и пользовательских настроек.</p>
</li>
<li>
<p><code>winter</code>: Зима (winter) - логическое значение, указывающее, какой вид погоды следует отображать для зимнего сезона.
Эта настройка позволяет адаптировать отображение погоды в зависимости от времени года.</p>
</li>
</ol>
<p>Пожалуйста, имейте в виду, что конкретные настройки и их значения могут отличаться в зависимости от реализации плагина &ldquo;weather&rdquo;.</p>
<p>Плагин &ldquo;weather&rdquo; реализует следующие базовые свойства для отображения погоды:</p>
<ol>
<li><code>main</code>: Основное описание погоды (например, &ldquo;Ясно&rdquo;, &ldquo;Облачно&rdquo;, &ldquo;Дождь&rdquo; и т.д.).</li>
<li><code>datetime</code>: Дата и время отображения погодных данных.</li>
<li><code>humidity</code>: Влажность воздуха.</li>
<li><code>max_temperature</code>: Максимальная температура.</li>
<li><code>min_temperature</code>: Минимальная температура.</li>
<li><code>pressure</code>: Атмосферное давление.</li>
<li><code>wind_bearing</code>: Направление ветра.</li>
<li><code>wind_speed</code>: Скорость ветра.</li>
</ol>
<p>Для каждого из пяти дней прогноза погоды (day1, day2, day3, day4, day5) также доступны аналогичные свойства, с добавлением
префикса соответствующего дня. Например, для первого дня прогноза доступны свойства <code>day1_main</code>, <code>day1_datetime</code>, <code>day1_humidity</code> и т.д.</p>
<p>Пример использования базовых свойств плагина &ldquo;weather&rdquo;:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>weatherPlugin</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>WeatherPlugin</span><span style=color:#000;font-weight:700>();</span>

<span style=color:#8f5902;font-style:italic>// Получение данных о текущей погоде
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>currentWeather</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>main</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>datetime</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>humidity</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>max_temperature</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>min_temperature</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pressure</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>wind_bearing</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>currentWeather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>wind_speed</span><span style=color:#000;font-weight:700>);</span>

<span style=color:#8f5902;font-style:italic>// Получение данных о погоде на первый день прогноза
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>day1Weather</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>EntityGetAttributes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;weather_owm.weather1&#39;</span><span style=color:#000;font-weight:700>)</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_main</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_datetime</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_humidity</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_max_temperature</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_min_temperature</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_pressure</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_wind_bearing</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>day1Weather</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>day1_wind_speed</span><span style=color:#000;font-weight:700>);</span>
</code></pre></div><p>Обратите внимание, что конкретные свойства и их значения могут отличаться в зависимости от реализации плагина &ldquo;weather&rdquo; и источника погодных данных.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4e6b5c2d397c558708e54206184aa268>23.1 - MET</h1>
<p>Weather forecast from met.no, delivered by the Norwegian Meteorological Institute.</p>
<p>Api version 2.0</p>
<p><a href=https://api.met.no/weatherapi/locationforecast/2.0/classic>https://api.met.no/weatherapi/locationforecast/2.0/classic</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b2af757d2aed5c975040722fd880df27>23.2 - OWM</h1>
<p>Weather forecast from openweathermap.org</p>
<p>Api version 2.5</p>
<p><a href=https://api.openweathermap.org/data/2.5/onecall>https://api.openweathermap.org/data/2.5/onecall</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-61b4e27718e29c034a152d0ee2706628>24 - Zigbee2mqtt</h1>
<p>Плагин &ldquo;Zigbee2mqtt&rdquo; является частью системы и предоставляет интеграцию между Zigbee-устройствами и MQTT-брокером. Этот
плагин позволяет контролировать и управлять Zigbee-устройствами через MQTT-сообщения.</p>
<p>В плагине &ldquo;Zigbee2mqtt&rdquo; реализован JavaScript-обработчик <code>zigbee2mqttEvent</code>, который не принимает параметры. Внутри
обработчика доступен объект <code>message</code>, представляющий информацию о полученном MQTT-сообщении.</p>
<p>Свойства объекта <code>message</code> включают:</p>
<ol>
<li><code>payload</code>: Значение сообщения, представленное в виде словаря (map), где ключи являются строками, а значения могут быть любого типа.</li>
<li><code>topic</code>: Топик MQTT-сообщения, указывающий на источник или назначение сообщения.</li>
<li><code>qos</code>: Уровень качества обслуживания (Quality of Service) MQTT-сообщения.</li>
<li><code>duplicate</code>: Флаг, указывающий, является ли сообщение дубликатом.</li>
<li><code>storage</code>: Объект <code>Storage</code>, предоставляющий доступ к хранилищу данных для кеширования и получения произвольных значений.</li>
<li><code>error</code>: Строка, содержащая информацию об ошибке, если таковая возникла при обработке сообщения.</li>
<li><code>success</code>: Булево значение, указывающее на успешное выполнение операции или обработку сообщения.</li>
<li><code>new_state</code>: Объект <code>StateParams</code>, представляющий новое состояние актора после выполнения операции.</li>
</ol>
<p>Пример использования обработчика <code>zigbee2mqttEvent</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>zigbee2mqttEvent</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Received MQTT message:&#34;</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Payload:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>payload</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Topic:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>topic</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;QoS:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>qos</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Duplicate:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>duplicate</span><span style=color:#000;font-weight:700>);</span>

    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Error:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>error</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>success</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Operation successful!&#34;</span><span style=color:#000;font-weight:700>);</span>
        <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;New state:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>new_state</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#000;font-weight:700>}</span>

    <span style=color:#8f5902;font-style:italic>// Доступ к хранилищу
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>storage</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getByName</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;key&#34;</span><span style=color:#000;font-weight:700>);</span>
    <span style=color:#000>console</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>log</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Value from storage:&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>value</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Обработчик <code>zigbee2mqttEvent</code> может быть использован для обработки входящих MQTT-сообщений, а также для выполнения
дополнительных операций на основе полученных данных.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>zigbee2mqttEvent</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(message)-&gt;</span>
<span style=color:#8f5902;font-style:italic>#print &#39;---mqtt new event from plug---&#39;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>message</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>topic</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>includes</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;/set&#39;</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#204a87;font-weight:700>return</span>
  <span style=color:#000>payload = </span><span style=color:#000>unmarshal</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>payload</span>
  <span style=color:#000>attrs =
</span><span style=color:#000></span>    <span style=color:#4e9a06>&#39;consumption&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>consumption</span>
    <span style=color:#4e9a06>&#39;linkquality&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>linkquality</span>
    <span style=color:#4e9a06>&#39;power&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>power</span>
    <span style=color:#4e9a06>&#39;state&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>state</span>
    <span style=color:#4e9a06>&#39;temperature&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>temperature</span>
    <span style=color:#4e9a06>&#39;voltage&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>voltage</span>
  <span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;new_state&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>state</span>
    <span style=color:#4e9a06>&#39;attribute_values&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>attrs</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-coffeescript data-lang=coffeescript><span style=color:#000>zigbee2mqttEvent</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>(message)-&gt;</span>
  <span style=color:#8f5902;font-style:italic>#print &#39;---mqtt new event from button---&#39;
</span><span style=color:#8f5902;font-style:italic></span>  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>!</span><span style=color:#000>message</span>
    <span style=color:#204a87;font-weight:700>return</span>
  <span style=color:#000>payload = </span><span style=color:#000>unmarshal</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>payload</span>
  <span style=color:#000>attrs =
</span><span style=color:#000></span>    <span style=color:#4e9a06>&#39;battery&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>battery</span>
    <span style=color:#4e9a06>&#39;linkquality&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>linkquality</span>
    <span style=color:#4e9a06>&#39;voltage&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>voltage</span>
  <span style=color:#000>state = </span><span style=color:#4e9a06>&#39;&#39;</span>
  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>action</span>
    <span style=color:#000>attrs.action = </span><span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>action</span>
    <span style=color:#000>state = </span><span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>action</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;_action&#34;</span>
  <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>click</span>
    <span style=color:#000>attrs.click = </span><span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>click</span>
    <span style=color:#000>attrs.action = </span><span style=color:#4e9a06>&#34;&#34;</span>
    <span style=color:#000>state = </span><span style=color:#000>payload</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>click</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;_click&#34;</span>
  <span style=color:#000>EntitySetState</span> <span style=color:#000>ENTITY_ID</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#4e9a06>&#39;new_state&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>state</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>toUpperCase</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#4e9a06>&#39;attribute_values&#39;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>attrs</span>
</code></pre></div>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/e154/smart-home aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2024 Разработано при поддержке <a href=http://e154.ru>e154.ru</a></small>
<div><small class="ml-1 text-white">Код лицензии <a href=https://github.com/e154/smart-home/blob/master/LICENSE>MIT</a> документы <a href=http://creativecommons.org/licenses/by/3.0/>CC BY 3.0</a></small></div>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/smart-home/js/tabpane-persist.js></script>
<script src=/smart-home/js/main.min.307d9740a83ff885dafd50af6ce4f79e2146b78e74ee078b11b627d0d02146a9.js integrity="sha256-MH2XQKg/+IXa/VCvbOT3niFGt4507geLEbYn0NAhRqk=" crossorigin=anonymous></script>
</body>
</html>