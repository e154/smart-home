package local_migrations

import (
	"context"
	"encoding/json"
	"fmt"

	"github.com/e154/smart-home/adaptors"
	m "github.com/e154/smart-home/models"
)

type MigrationDashboard struct {
	adaptors *adaptors.Adaptors
}

func NewMigrationDashboard(adaptors *adaptors.Adaptors) *MigrationDashboard {
	return &MigrationDashboard{
		adaptors: adaptors,
	}
}

func (n *MigrationDashboard) Up(ctx context.Context, adaptors *adaptors.Adaptors) error {
	if adaptors != nil {
		n.adaptors = adaptors
	}

	board := &m.Dashboard{}
	_ = json.Unmarshal([]byte(dashboardRaw), board)

	var err error
	if board.Id, err = n.adaptors.Dashboard.Import(board); err != nil {
		return err
	}

	err = n.adaptors.Variable.CreateOrUpdate(m.Variable{
		Name:   "devDashboard",
		Value:  fmt.Sprintf("%d", board.Id),
		System: true,
	})

	return nil
}

const dashboardRaw = `{"id":229,"name":"develop","description":"main","enabled":true,"area_id":null,"area":null,"tabs":[{"id":334,"name":"NEW_TAB1","column_width":600,"gap":true,"background":"#FFFFFF","icon":"","enabled":true,"weight":0,"dashboard_id":229,"dashboard":null,"cards":[{"id":564,"title":"uptime","height":200,"width":600,"background":"#F5F7FA","weight":-100,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":707,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"uptime.uptime","entity":null,"payload":{"width":551,"height":164,"transform":"matrix(1,0,0,1,10,10) translate(0px, 1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp class=\"ql-align-center\" style=\"text-align: center;\"\u003e\u003cspan style=\"color: #888888;\"\u003eLast time startup: [new_state.attributes.app_started]\u003c/span\u003e\u003c/p\u003e\n\u003ch1 class=\"ql-align-center\" style=\"text-align: center;\"\u003e\u003cspan style=\"color: #34495e;\"\u003e\u003cstrong\u003e[new_state.attributes.total|secToTime:: Days:: Hours:: Minuts]\u003c/strong\u003e\u003c/span\u003e\u003c/h1\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":565,"title":"welcome","height":200,"width":600,"background":"#F5F7FA","weight":-90,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":708,"title":"welcome","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":536,"height":149,"transform":"matrix(1,0,0,1,25,7) translate(0px, -1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch2 style=\"text-align: left;\"\u003e\u003cspan style=\"color: #34495e;\"\u003eWelcome to the\u003c/span\u003e\u003c/h2\u003e\n\u003ch2 style=\"text-align: left;\"\u003e\u003cspan style=\"font-size: 36pt; color: #34495e;\"\u003e\u003cstrong\u003eDashbord!\u003c/strong\u003e\u003c/span\u003e\u003c/h2\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":736,"title":"logo","type":"image","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":176,"height":150,"transform":"matrix(1,0,0,1,405,13) translate(-10px, 9px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","range":"24h","width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false,"metric_index":0},"image":{"id":"102","url":"/upload/0eb/cf4/759/0ebcf4759bb53265bd6878c73a5a407f.svg","name":"smarthome_logo.svg","size":"17349","image":"0ebcf4759bb53265bd6878c73a5a407f.svg","thumb":"","title":"","mimeType":"text/xml; charset=utf-8","createdAt":"2022-08-14T17:00:25.128072Z"},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":566,"title":"cpu1","height":200,"width":200,"background":"#F5F7FA","weight":-80,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":709,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"cpuspeed.cpuspeed","entity":null,"payload":{"width":182,"height":114,"transform":"matrix(1,0,0,1,3,5) translate(0px, 1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch1 style=\"text-align: center;\"\u003eCPU\u003c/h1\u003e\n\u003ch1 style=\"text-align: center;\"\u003e[new_state.attributes.all]%\u003c/h1\u003e\n\u003cp\u003e\u0026nbsp;\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"","width":100,"textInside":true,"strokeWidth":26},"state":{"items":[]},"button":{},"progress":{"type":"","textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":710,"title":"circular","type":"progress","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"cpuspeed.cpuspeed","entity":null,"payload":{"width":158,"height":139,"transform":"matrix(1,0,0,1,21,6) translate(-6px, -1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"","width":100,"textInside":true,"strokeWidth":26},"state":{"items":[]},"button":{},"progress":{"type":"dashboard","value":"[new_state.attributes.all]","width":159,"textInside":false,"strokeWidth":8}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":711,"title":"table","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"cpuspeed.cpuspeed","entity":null,"payload":{"width":186,"height":46,"transform":"matrix(1,0,0,1,1,147) translate(0px, -3px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%; border-color: #ced4d9;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 24.5983%; text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.load_min]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003emin\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"width: 12.2991%; text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.load_max]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003emax\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"width: 6.14955%; text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.cores]\u003cbr /\u003e\u003c/strong\u003e\u003cspan style=\"font-size: 10pt;\"\u003ecores\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"width: 6.14955%; text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.mhz]\u003cbr /\u003e\u003c/strong\u003e\u003cspan style=\"font-size: 10pt;\"\u003emhz\u003c/span\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u0026nbsp;\u003c/p\u003e\n\u003cp\u003e\u0026nbsp;\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"","width":100,"textInside":true,"strokeWidth":26},"state":{"items":[]},"button":{},"progress":{"type":"","textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":567,"title":"memory","height":200,"width":200,"background":"#F5F7FA","weight":-70,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":712,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"memory.memory","entity":null,"payload":{"width":183,"height":191,"transform":"matrix(1,0,0,1,1,5) translate(1px, 0px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch1 style=\"text-align: center;\"\u003eRAM\u003c/h1\u003e\n\u003ch1 style=\"text-align: center;\"\u003e[new_state.attributes.used_percent]%\u003c/h1\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":713,"title":"circular","type":"progress","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"memory.memory","entity":null,"payload":{"width":161,"height":132,"transform":"matrix(1,0,0,1,11,5) translate(0px, 1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"dashboard","value":"[new_state.attributes.used_percent]","width":159,"textInside":false,"strokeWidth":8}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":714,"title":"table","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"memory.memory","entity":null,"payload":{"width":184,"height":63,"transform":"matrix(1,0,0,1,-4,133) translate(5px, -1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%; border-color: #ced4d9; margin-left: auto; margin-right: auto;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 49.5674%; line-height: 1; text-align: center;\"\u003e\n\u003cp\u003e\u003cstrong\u003e[new_state.attributes.total|formatBytes]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003etotal\u003c/span\u003e\u003c/p\u003e\n\u003c/td\u003e\n\u003ctd style=\"width: 49.5674%; line-height: 1; text-align: center;\"\u003e\n\u003cp\u003e\u003cstrong\u003e[new_state.attributes.free|formatBytes]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003efree\u003c/span\u003e\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp style=\"text-align: center;\"\u003e\u0026nbsp;\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":568,"title":"hdd1","height":200,"width":200,"background":"#F5F7FA","weight":-60,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":715,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"hdd.hdd1","entity":null,"payload":{"width":183,"height":107,"transform":"matrix(1,0,0,1,2,0) translate(0px, 5px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch1 style=\"text-align: center;\"\u003eHDD\u003c/h1\u003e\n\u003ch3 style=\"text-align: center;\"\u003e[new_state.attributes.used|formatBytes]\u003c/h3\u003e\n\u003cp\u003e\u0026nbsp;\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":716,"title":"circular","type":"progress","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"hdd.hdd1","entity":null,"payload":{"width":159,"height":65,"transform":"matrix(1,0,0,1,-112,5) translate(126px, 2px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"dashboard","value":"[new_state.attributes.used_percent]","width":159,"textInside":false,"strokeWidth":8}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":717,"title":"table","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"hdd.hdd1","entity":null,"payload":{"width":186,"height":75,"transform":"matrix(1,0,0,1,-7,131) translate(8px, 0px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%; border-color: #ced4d9;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.total|formatBytes]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003etotal\u003c/span\u003e\u003c/p\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.free|formatBytes]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003efree\u003c/span\u003e\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u0026nbsp;\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":570,"title":"errors","height":200,"width":200,"background":"#F5F7FA","weight":-50,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":719,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"logs.logs","entity":null,"payload":{"width":182,"height":129,"transform":"matrix(1,0,0,1,2,2) translate(1px, -1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cspan style=\"font-size: 12pt;\"\u003e\u003cspan style=\"color: #000000;\"\u003e\u0026nbsp; \u0026nbsp;errors\u003c/span\u003e\u003c/span\u003e\u003c/p\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cspan style=\"font-size: 36pt;\"\u003e\u003cstrong\u003e\u003cspan style=\"color: #000000;\"\u003e[new_state.attributes.err_today]\u003c/span\u003e\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":720,"title":"table","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"logs.logs","entity":null,"payload":{"width":182,"height":41,"transform":"matrix(1,0,0,1,2,148) translate(1px, -2px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%; margin-left: auto; margin-right: auto;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 49.5283%; text-align: center;\"\u003e\u003cstrong\u003e\u003cspan style=\"color: #000000;\"\u003e[new_state.attributes.err_total]\u003c/span\u003e\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003etotal\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"width: 49.5283%; text-align: center;\"\u003e\u003cspan style=\"font-size: 10pt;\"\u003e\u003cspan style=\"font-size: 12pt;\"\u003e\u003cstrong\u003e\u003cspan style=\"color: #000000;\"\u003e[new_state.attributes.err_yesterday]\u003c/span\u003e\u003c/strong\u003e\u003c/span\u003e\u003cbr /\u003eyesterday\u003c/span\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":571,"title":"warnings","height":200,"width":200,"background":"#F5F7FA","weight":-40,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":721,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"logs.logs","entity":null,"payload":{"width":181,"height":107,"transform":"matrix(1,0,0,1,4,-1) translate(0px, -1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cspan style=\"color: #000000;\"\u003e\u0026nbsp; \u0026nbsp;warnings\u003c/span\u003e\u003c/p\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cstrong\u003e\u003cspan style=\"color: #000000; font-size: 36pt;\"\u003e[new_state.attributes.warn_today]\u003c/span\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":722,"title":"table","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"logs.logs","entity":null,"payload":{"width":184,"height":52,"transform":"matrix(1,0,0,1,1,148) translate(0px, -2px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 49.5283%; text-align: center;\"\u003e\u003cstrong\u003e\u003cspan style=\"color: #000000;\"\u003e[new_state.attributes.warn_total]\u003c/span\u003e\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003etotal\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"width: 49.5283%; text-align: center;\"\u003e\u003cspan style=\"font-size: 10pt;\"\u003e\u003cspan style=\"font-size: 12pt;\"\u003e\u003cstrong\u003e\u003cspan style=\"color: #000000;\"\u003e[new_state.attributes.warn_yesterday]\u003c/span\u003e\u003c/strong\u003e\u003c/span\u003e\u003cbr /\u003eyesterday\u003c/span\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":572,"title":"interne_check","height":200,"width":200,"background":"#F5F7FA","weight":-30,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":723,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"sensor.intermet_checker","entity":null,"payload":{"width":181,"height":136,"transform":"matrix(1,0,0,1,3,0) translate(-1px, -5px)","payload":{"logs":{"limit":20},"text":{"items":[{"key":"new_state.state.name","text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: left;\"\u003e\u003cspan style=\"font-size: 12pt;\"\u003e\u0026nbsp; internet\u003c/span\u003e\u003c/p\u003e\n\u003ch3 style=\"text-align: center;\"\u003e\u003cspan style=\"color: #20a0ff;\"\u003e\u003cstrong\u003e\u003cspan style=\"font-size: 36pt;\"\u003eOK\u003c/span\u003e\u003c/strong\u003e\u003c/span\u003e\u003c/h3\u003e\n\u003c/body\u003e\n\u003c/html\u003e","value":"CONNECTED","tokens":[],"comparison":"eq"}],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: left;\"\u003e\u0026nbsp; internet\u003c/p\u003e\n\u003ch3 style=\"text-align: center;\"\u003e\u003cspan style=\"color: #e03e2d;\"\u003e[new_state.state.description]\u003c/span\u003e\u003c/h3\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":573,"title":"chart memory","height":400,"width":600,"background":"#F5F7FA","weight":-10,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":731,"title":"item0","type":"chart","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"memory.memory","entity":null,"payload":{"width":521,"height":291,"transform":"matrix(1,0,0,1,15,33) translate(-2px, -1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","props":["used_percent"],"range":"24h","width":400,"xAxis":false,"yAxis":true,"height":400,"legend":false,"borderWidth":1,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":733,"title":"item1","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":588,"height":78,"transform":"matrix(1,0,0,1,4,1) translate(-1px, 0px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cspan style=\"color: #34495e;\"\u003e\u003cstrong\u003ememory usage per 24 Hourse\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":569,"title":"chart cpu","height":400,"width":600,"background":"#F5F7FA","weight":0,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":718,"title":"item0","type":"chart","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"cpuspeed.cpuspeed","entity":null,"payload":{"width":509,"height":352,"transform":"matrix(1,0,0,1,34,34) translate(3px, 3px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"props":["all"],"range":"24h","width":200,"xAxis":false,"yAxis":true,"height":200,"legend":false,"textInside":true,"borderWidth":1,"strokeWidth":26,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":732,"title":"item1","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":590,"height":55,"transform":"matrix(1,0,0,1,231,3) translate(-231px, -1px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cspan style=\"color: #34495e;\"\u003e\u003cstrong\u003ecpu usage per 24 Hourse\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":578,"title":"chart hdd","height":400,"width":600,"background":"#F5F7FA","weight":10,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":734,"title":"item0","type":"chart","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"hdd.hdd1","entity":null,"payload":{"width":513,"height":255,"transform":"matrix(1,0,0,1,16,45) translate(3px, 0px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","props":["used_percent"],"range":"24h","width":400,"xAxis":false,"yAxis":true,"height":400,"legend":false,"borderWidth":1,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":735,"title":"item1","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":581,"height":75,"transform":"matrix(1,0,0,1,10,10) translate(-5px, -8px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cspan style=\"color: #34495e;\"\u003e\u003cstrong\u003ehdd usage per 24 Hourse\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","range":"24h","width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":579,"title":"chart app memory","height":400,"width":600,"background":"#F5F7FA","weight":10,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":737,"title":"item0","type":"chart","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"memory_app.memory_app","entity":null,"payload":{"width":513,"height":255,"transform":"matrix(1,0,0,1,16,45) translate(3px, 0px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","props":["alloc"],"range":"24h","width":400,"xAxis":false,"yAxis":true,"filter":"formatBytes","height":400,"legend":false,"borderWidth":1,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":738,"title":"item1","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":581,"height":75,"transform":"matrix(1,0,0,1,10,10) translate(-5px, -8px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cspan style=\"color: #34495e;\"\u003e\u003cstrong\u003eapp memory usage per 24 Hourse\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","range":"24h","width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":577,"title":"logs","height":400,"width":800,"background":"#FFFFFF","weight":20,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":728,"title":"item0","type":"logs","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":779,"height":262,"transform":"matrix(1,0,0,1,2,4) translate(3px, 1px)","payload":{"logs":{"limit":15},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003edefault text\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":574,"title":"node1","height":200,"width":200,"background":"#F5F7FA","weight":120,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":724,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"node.node1","entity":null,"payload":{"width":184,"height":198,"transform":"matrix(1,0,0,1,1,-6) translate(1px, 4px)","payload":{"logs":{"limit":20},"text":{"items":[{"key":"new_state.state.name","text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch2 style=\"text-align: center;\"\u003e[entity_id]\u003c/h2\u003e\n\u003ch4 style=\"text-align: center;\"\u003e\u003cspan style=\"color: #20a0ff;\"\u003e[new_state.state.name]\u003c/span\u003e\u003c/h4\u003e\n\u003c/body\u003e\n\u003c/html\u003e","value":"connected","tokens":["entity_id","new_state.state.name"],"comparison":"eq"}],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch2 style=\"text-align: center;\"\u003e[entity_id]\u003c/h2\u003e\n\u003ch4 style=\"text-align: center;\"\u003e[new_state.state.name]\u003c/h4\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":725,"title":"table","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"node.node1","entity":null,"payload":{"width":191,"height":84,"transform":"matrix(1,0,0,1,-10,107) translate(8px, -3px)","payload":{"logs":{"limit":20},"text":{"items":[{"key":"new_state.state.name","text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%; margin-left: auto; margin-right: auto;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.rps]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003erps\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.latency|seconds]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003elatency\u003c/span\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.max|seconds]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003emax\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.min|seconds]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003emin\u003c/span\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cspan style=\"font-size: 8pt;\"\u003e[new_state.attributes.started_at]\u003c/span\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e","value":"connected","tokens":["new_state.attributes.rps","new_state.attributes.latency|seconds","new_state.attributes.max|seconds","new_state.attributes.min|seconds","new_state.attributes.started_at"],"comparison":"eq"}],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":575,"title":"server memory","height":200,"width":400,"background":"#F5F7FA","weight":130,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":726,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"memory_app.memory_app","entity":null,"payload":{"width":388,"height":145,"transform":"matrix(1,0,0,1,2,37) translate(-1px, 0px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%; margin-left: auto; margin-right: auto;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.alloc|formatBytes]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003ealloc\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.heap_alloc|formatBytes]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003eheap alloc\u003c/span\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.total_alloc|formatBytes]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003etotal alloc\u003c/span\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center;\"\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.sys|formatBytes]\u003cbr /\u003e\u003c/strong\u003e\u003cspan style=\"font-size: 10pt;\"\u003esys\u003c/span\u003e\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ctable style=\"border-collapse: collapse; width: 100%;\" border=\"0\"\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"width: 99.4674%; text-align: center;\"\u003e\u003cstrong\u003e[new_state.attributes.last_gc]\u003c/strong\u003e\u003cbr /\u003e\u003cspan style=\"font-size: 10pt;\"\u003elast gc\u003c/span\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":741,"title":"item1","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":null,"entity":null,"payload":{"width":375,"height":35,"transform":"matrix(1,0,0,1,6,-1) translate(-1px, -4px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: center;\"\u003e\u003cstrong\u003e\u0026nbsp; server memory usage\u003c/strong\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","range":"24h","width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false,"metric_index":0},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"},{"id":576,"title":"server version","height":200,"width":400,"background":"#F5F7FA","weight":140,"enabled":true,"dashboard_tab_id":334,"dashboard_tab":null,"payload":{},"items":[{"id":727,"title":"item0","type":"text","weight":-1,"enabled":true,"dashboard_card_id":0,"dashboard_card":null,"entity_id":"version.version","entity":null,"payload":{"width":370,"height":194,"transform":"matrix(1,0,0,1,12,-4) translate(0px, -4px)","payload":{"logs":{"limit":20},"text":{"items":[],"current_text":"","default_text":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp style=\"text-align: center; line-height: 1;\"\u003e\u003cstrong\u003eserver version\u003c/strong\u003e\u003c/p\u003e\n\u003cp style=\"line-height: 1;\"\u003e\u003cem\u003eversion\u003c/em\u003e: \u003cstrong\u003e[new_state.attributes.build_num]\u003c/strong\u003e\u003c/p\u003e\n\u003cp style=\"line-height: 1;\"\u003e\u003cem\u003edocker image:\u003c/em\u003e \u003cstrong\u003e[new_state.attributes.docker_image]\u003c/strong\u003e\u003c/p\u003e\n\u003cp style=\"line-height: 1;\"\u003e\u003cem\u003egenerated\u003c/em\u003e: \u003cstrong\u003e[new_state.attributes.generated]\u003c/strong\u003e\u003c/p\u003e\n\u003cp style=\"line-height: 1;\"\u003e\u003cem\u003eversion\u003c/em\u003e: \u003cstrong\u003e[new_state.attributes.version]\u003c/strong\u003e\u003c/p\u003e\n\u003cp style=\"line-height: 1;\"\u003e\u003cem\u003erevision url\u003c/em\u003e: \u003cspan style=\"text-decoration: underline;\"\u003e\u003ca href=\"[new_state.attributes.revision]\" target=\"_blank\" rel=\"noopener\"\u003eexternal link\u003c/a\u003e\u003c/span\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e"},"chart":{"type":"line","index":0,"width":400,"xAxis":false,"yAxis":false,"height":400,"legend":false},"state":{"items":[]},"button":{},"progress":{"type":"","width":100,"textInside":true,"strokeWidth":26}},"style":{},"showOn":[],"hideOn":[],"asButton":false,"buttonActions":[]},"hidden":false,"frozen":false,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}],"entities":null,"created_at":"0001-01-01T00:00:00Z","updated_at":"0001-01-01T00:00:00Z"}`
